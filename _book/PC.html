<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="es" xml:lang="es"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.353">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Trabajo Final de Máster - 2.3 Composición de carteras</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for citations */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
}
.hanging-indent div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./Data.html" rel="next">
<link href="./ANNinTSF.html" rel="prev">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 20,
  "language": {
    "search-no-results-text": "Sin resultados",
    "search-matching-documents-text": "documentos encontrados",
    "search-copy-link-title": "Copiar el enlace en la búsqueda",
    "search-hide-matches-text": "Ocultar resultados adicionales",
    "search-more-match-text": "resultado adicional en este documento",
    "search-more-matches-text": "resultados adicionales en este documento",
    "search-clear-button-title": "Borrar",
    "search-detached-cancel-button-title": "Cancelar",
    "search-submit-button-title": "Enviar"
  }
}</script>
<style>

      .quarto-title-block .quarto-title-banner {
        background: #D60D8C;
      }
</style>

  <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<link rel="stylesheet" href="my_style.css">
</head>

<body class="nav-sidebar floating">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Alternar barra lateral" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
      <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./body.html">2 Desarrollo del trabajo</a></li><li class="breadcrumb-item"><a href="./PC.html">2.3 Composición de carteras</a></li></ol></nav>
      <a class="flex-grow-1" role="button" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Alternar barra lateral" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
      </a>
      <button type="button" class="btn quarto-search-button" aria-label="Buscar" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<header id="title-block-header" class="quarto-title-block default page-columns page-full">
  <div class="quarto-title-banner page-columns page-full">
    <div class="quarto-title column-body">
      <h1 class="title">2.3 Composición de carteras</h1>
                      </div>
  </div>
    
  
  <div class="quarto-title-meta">

      
    
      
    </div>
    
  
  </header><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal sidebar-navigation floating overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="./">Trabajo Final de Máster</a> 
        <div class="sidebar-tools-main tools-wide">
    <a href="https://github.com/davidrsch/TFM" title="Source Code" class="quarto-navigation-tool px-1" aria-label="Source Code"><i class="bi bi-github"></i></a>
    <div class="dropdown">
      <a href="" title="Download" id="quarto-navigation-tool-dropdown-0" class="quarto-navigation-tool dropdown-toggle px-1" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download"><i class="bi bi-download"></i></a>
      <ul class="dropdown-menu" aria-labelledby="quarto-navigation-tool-dropdown-0">
          <li>
            <a class="dropdown-item sidebar-tools-main-item" href="./Trabajo-Final-de-Máster.docx">
              <i class="bi bi-bi-file-word pe-1"></i>
            Download Docx
            </a>
          </li>
          <li>
            <a class="dropdown-item sidebar-tools-main-item" href="./Trabajo-Final-de-Máster.pdf">
              <i class="bi bi-bi-file-pdf pe-1"></i>
            Download PDF
            </a>
          </li>
          <li>
            <a class="dropdown-item sidebar-tools-main-item" href="./Trabajo-Final-de-Máster.epub">
              <i class="bi bi-bi-journal pe-1"></i>
            Download ePub
            </a>
          </li>
      </ul>
    </div>
    <a href="https://twitter.com/intent/tweet?url=|url|" title="Twitter" class="quarto-navigation-tool px-1" aria-label="Twitter"><i class="bi bi-twitter"></i></a>
</div>
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Buscar"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Agradecimientos</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./summaryes.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Resumen</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./summaryen.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Abstract</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./intro.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">1 Introducción</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="./body.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">2 Desarrollo del trabajo</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true" aria-label="Alternar sección">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./FSandP.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">2.1 Caracterización de las series temporales financieras</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./ANNinTSF.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">2.2 Redes neuronales artificiales en la previsión de las series de tiempo</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./PC.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text">2.3 Composición de carteras</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Data.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">2.4 Datos</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./MandT.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">2.5 Modelado y entrenamiento</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Results.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">2.6 Resultado</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./conclusions.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">3 Conclusiones</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./references.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Bibliografía</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" aria-expanded="false">
 <span class="menu-text">Anexos</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" aria-expanded="false" aria-label="Alternar sección">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Annex1.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Anexo. 1 Figuras</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Annex2.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Anexo. 2 Gráficas</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Annex3.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Anexo. 3 Tablas</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Annex4.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Anexo. 4 Códigos</span></a>
  </div>
</li>
      </ul>
  </li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Tabla de contenidos</h2>
   
  <ul>
  <li><a href="#problema-y-técnicas" id="toc-problema-y-técnicas" class="nav-link active" data-scroll-target="#problema-y-técnicas">2.3.1 Problema y técnicas</a></li>
  <li><a href="#programación-cuadrática" id="toc-programación-cuadrática" class="nav-link" data-scroll-target="#programación-cuadrática">2.3.1 Programación cuadrática</a></li>
  </ul>
<div class="toc-actions"><div><i class="bi bi-github"></i></div><div class="action-links"><p><a href="https://github.com/davidrsch/TFM/edit/main/PC.qmd" class="toc-action">Editar esta página</a></p></div></div></nav>
    </div>
<!-- main -->
<main class="content quarto-banner-title-block" id="quarto-document-content">




<p>En este epígrafe, se expone el problema de encontrar la mejor composición de cartera posible y explicar de manera general la teoría detrás de los objetivos para solucionarlo. Además, se enumerarán las técnicas más utilizadas, diferenciando entre enfoques clásicos y enfoques inteligentes. Posteriormente, se explicará qué es la programación cuadrática y se mencionarán algunas técnicas dentro de esta disciplina de optimización matemática. Se mostrará cómo el problema de optimización de carteras se puede describir como un problema de programación cuadrática. Además, se proporcionará una breve explicación del Dual Active Set Method, una técnica ampliamente utilizada en esta disciplina y que será utilizada en los capítulos siguientes.</p>
<section id="problema-y-técnicas" class="level2">
<h2 class="anchored" data-anchor-id="problema-y-técnicas">2.3.1 Problema y técnicas</h2>
<p>Como se explica en <span class="citation" data-cites="Gunjan2023">Gunjan (<a href="references.html#ref-Gunjan2023" role="doc-biblioref">2023</a>)</span> la optimización de cartera es el proceso de seleccionar la mejor combinación de activos para mantener en una cartera en función de objetivos predefinidos. Los objetivos pueden ser la maximización del rendimiento o la minimización del riesgo, o ambos. La optimización de la cartera implica encontrar las ponderaciones óptimas para cada activo de la cartera de manera que la cartera general cumpla con los objetivos deseados. Esto puede ser un problema desafiante debido a la gran cantidad de activos para elegir y las complejas relaciones entre ellos.</p>
<p>La optimización de la cartera es un proceso importante para los inversores, ya que les ayuda a minimizar el riesgo y maximizar el rendimiento de sus inversiones. Al seleccionar cuidadosamente los activos que mantendrán en su cartera, los inversores pueden lograr el nivel deseado de riesgo y rendimiento mientras diversifican sus inversiones para reducir el riesgo general. La optimización de la cartera es un mecanismo crucial que se utiliza para reducir el riesgo de la inversión.</p>
<p>Existen diversas técnicas que se pueden utilizar para resolver el problema de optimización de cartera. En <span class="citation" data-cites="Gunjan2023">Gunjan (<a href="references.html#ref-Gunjan2023" role="doc-biblioref">2023</a>)</span> estas técnicas se encuentran clasificadas en en dos categorías: enfoques clásicos y enfoques inteligentes. A continuación, se explica de manera general algunas de las técnicas pertenecientes a cada enfoque.</p>
<p>Enfoques clásicos:</p>
<ul>
<li><p>Media-varianza: Esta técnica, propuesta en <span class="citation" data-cites="markowitz1967">Markowitz y Markowitz (<a href="references.html#ref-markowitz1967" role="doc-biblioref">1967</a>)</span>, se basa en la idea de minimizar la varianza para una determinada rentabilidad esperada o maximizar la rentabilidad esperada para una determinada varianza. Es una técnica de programación cuadrática paramétrica (en lo adelante, PQP) que se puede utilizar para resolver problemas de optimización cuadrática que surgen en la optimización de carteras (<span class="citation" data-cites="Zhi08">Aijun Zhang &amp; Chun-hung Li &amp; Agus Sudjianto (<a href="references.html#ref-Zhi08" role="doc-biblioref">2008</a>)</span>). El enfoque de la varianza media supone que los inversores tienen aversión al riesgo y prefieren carteras con una varianza más baja. La técnica consiste en construir una frontera de cartera que representa el conjunto de carteras que ofrecen el rendimiento esperado más alto para un nivel de riesgo dado. A continuación, se selecciona la cartera óptima de esta frontera en función de las preferencias de riesgo del inversor.</p></li>
<li><p>Varianza con asimetría: esta técnica amplía el enfoque de media-varianza teniendo en cuenta la asimetría de la distribución. Fue propuesta en <span class="citation" data-cites="samuelson1970">Samuelson (<a href="references.html#ref-samuelson1970" role="doc-biblioref">1970</a>)</span> y se puede utilizar cuando la función de distribución no es de naturaleza cuadrática. La asimetría mide la asimetría de una distribución y puede proporcionar información adicional sobre los riesgos y rendimientos potenciales de una cartera. Al incorporar la asimetría en el proceso de optimización de la cartera, los inversores pueden comprender mejor los posibles riesgos a la baja y tomar decisiones más informadas.</p></li>
<li><p>Valor en riesgo (VaR): este enfoque estadístico mide la pérdida potencial de valor de una cartera durante un período definido para un intervalo de confianza dado. Fue introducido en la primera edición de <span class="citation" data-cites="jorion2007">Jorion (<a href="references.html#ref-jorion2007" role="doc-biblioref">2007</a>)</span> en 1997 y requiere la determinación de tres parámetros: período de tiempo, nivel de confianza y unidad de valor en riesgo. El VaR proporciona una medida de la pérdida potencial máxima que podría ocurrir con una probabilidad dada en un horizonte de tiempo específico. Las instituciones financieras lo utilizan comúnmente para administrar su exposición al riesgo y cumplir con los requisitos reglamentarios.</p></li>
<li><p>Valor en riesgo condicional (CVaR): este enfoque amplía el VaR teniendo en cuenta la pérdida esperada que excede el VaR. Fue introducido en <span class="citation" data-cites="rockafellar2002">Rockafellar y Uryasev (<a href="references.html#ref-rockafellar2002" role="doc-biblioref">2002</a>)</span> y puede manejar pérdidas extremas mediante el uso de pesos dinámicos derivados de datos históricos. CVaR proporciona una medida de la pérdida esperada que podría ocurrir más allá del umbral de VaR. También se conoce como Expected Shortfall (ES) o Tail Value-at-Risk (TVaR) y se considera una medida de riesgo más coherente que el VaR.</p></li>
<li><p>Desviación media-absoluta (MAD): esta técnica se puede emplear para problemas de selección de carteras de gran escala y muy diversificados. Fue introducido en <span class="citation" data-cites="konno1991">Konno y Yamazaki (<a href="references.html#ref-konno1991" role="doc-biblioref">1991</a>)</span> y penaliza tanto las desviaciones positivas como las negativas. MAD proporciona una medida de la desviación absoluta promedio de los rendimientos de la cartera de su valor medio. Se considera más sólida que las medidas basadas en la varianza, ya que es menos sensible a los valores atípicos.</p></li>
<li><p>Minimax: Esta técnica utiliza la rentabilidad mínima como medida de riesgo. Fue introducido en <span class="citation" data-cites="cai2004minimax">Cai et&nbsp;al. (<a href="references.html#ref-cai2004minimax" role="doc-biblioref">2004</a>)</span> y tiene ciertas ventajas cuando los rendimientos no se distribuyen normalmente. Minimax proporciona una medida del peor de los casos para una cartera al minimizar la pérdida potencial máxima que podría ocurrir. Puede ser útil para los inversores que están particularmente preocupados por los riesgos a la baja.</p></li>
</ul>
<p>Enfoques inteligentes:</p>
<ul>
<li><p>Redes bayesianas: estos modelos gráficos probabilísticos se pueden utilizar para modelar el riesgo y la rentabilidad. Fueron presentados en <span class="citation" data-cites="shenoy2000bayesian">Shenoy y Shenoy (<a href="references.html#ref-shenoy2000bayesian" role="doc-biblioref">2000</a>)</span> y se pueden utilizar para visualizar la relación entre diferentes variables en un modelo. Las redes bayesianas proporcionan una forma de representar dependencias complejas entre variables utilizando gráficos acíclicos dirigidos (DAG). Se pueden usar para modelar relaciones inciertas entre variables y para hacer predicciones probabilísticas sobre eventos futuros. En el contexto de la gestión de carteras, las redes bayesianas se pueden utilizar para modelar las relaciones entre diferentes activos y hacer predicciones sobre sus rendimientos futuros en función de datos históricos y otra información relevante.</p></li>
<li><p>Regresión de vectores de soporte (SVR): esta técnica de aprendizaje automático se puede utilizar para determinar la cantidad a comprar y vender. Fue introducido por <span class="citation" data-cites="drucker1996linear">Drucker et&nbsp;al. (<a href="references.html#ref-drucker1996linear" role="doc-biblioref">1996</a>)</span> y tiene ciertas ventajas sobre las técnicas basadas en estadísticas, como su capacidad para aprender de datos históricos. SVR implica construir un hiperplano que separa puntos de datos con diferentes etiquetas mientras maximiza el margen entre ellos. Puede usarse para tareas de regresión donde el objetivo es predecir valores continuos en lugar de etiquetas discretas. En el contexto de la gestión de carteras, SVR se puede utilizar para predecir precios de activos futuros en función de datos históricos y otra información relevante.</p></li>
<li><p>Redes neuronales artificiales: como se explico con anterioridad estos modelos computacionales se pueden utilizar para resolver problemas computacionales y de aprendizaje complejos. En el contexto de la gestión de carteras, las redes neuronales se pueden utilizar para predecir futuros precios o rendimientos de activos en función de datos históricos y otra información relevante, que es para lo que se usan en el presente trabajo.</p></li>
<li><p>Aprendizaje por refuerzo: este tipo de aprendizaje automático involucra a un agente o modelo que interactúa con su entorno para aprender de sus acciones. Fue presentado en <span class="citation" data-cites="sutton2018reinforcement">Sutton y Barto (<a href="references.html#ref-sutton2018reinforcement" role="doc-biblioref">2018</a>)</span> y funciona para maximizar la recompensa al agente. El aprendizaje por refuerzo implica aprender a través de interacciones de prueba y error con un entorno. El agente realiza acciones en función de su estado actual y recibe recompensas o sanciones en función de los resultados de esas acciones. Con el tiempo, el agente aprende a realizar acciones que maximicen su recompensa acumulada. En el contexto de la gestión de carteras, el aprendizaje por refuerzo se puede utilizar para desarrollar estrategias comerciales que maximicen los rendimientos mientras se gestiona el riesgo.</p></li>
</ul>
</section>
<section id="programación-cuadrática" class="level2">
<h2 class="anchored" data-anchor-id="programación-cuadrática">2.3.1 Programación cuadrática</h2>
<p>En este sub-epígrafe se explica que es la programación cuadrática. Cuáles son algunas de las técnicas que existen dentro de esta disciplina de la optimización matemática. Se expone además como el problema de optimización de carteras se puede describir como un problema de programación cuadratica y se expondra de manera breve cómo funciona una de las técnicas más usadas en esta disciplina, concretamente la denominada Dual Active Set Method, la cuál es usada en los capítulos posteriores.</p>
<p>La programación cuadrática se puede elegir entre las técnicas enumeradas en el sub-epígrafe anterior por varias razones. En primer lugar, es una técnica bien establecida que se ha utilizado ampliamente en la optimización de carteras. Puede manejar problemas de optimización complejos con múltiples restricciones y puede proporcionar una forma eficiente y efectiva de resolver el problema de optimización de cartera. Esto lo convierte en una herramienta útil para los inversores que buscan minimizar el riesgo mientras logran el nivel de rendimiento deseado. Finalmente, la programación cuadrática tiene una sólida base teórica y ha sido ampliamente estudiada en la literatura. Esto la convierte en una técnica confiable y bien entendida que se puede utilizar con confianza en la optimización de la cartera.</p>
<p>Existen diversas técnicas de programación cuadrática, entre las más utilizadas se encuentran:</p>
<ul>
<li><p>Interior Point: Este es un método de programación lineal o no lineal que logra la optimización al pasar por el centro del sólido definido por el problema en lugar de alrededor de su superficie. Un algoritmo de programación lineal de tiempo polinómico utilizando un método de punto interior fue encontrado por <span class="citation" data-cites="karmarkar1984">Karmarkar (<a href="references.html#ref-karmarkar1984" role="doc-biblioref">1984</a>)</span>.</p></li>
<li><p>Active Set: Este es un algoritmo utilizado para identificar las restricciones activas en un conjunto de restricciones de desigualdad. Las restricciones activas se expresan entonces como restricciones de igualdad, transformando así un problema restringido por la desigualdad en un subproblema más simple restringido por la igualdad. El método de conjunto activo fue introducido por primera vez en un artículo de <span class="citation" data-cites="beale1959">Beale (<a href="references.html#ref-beale1959" role="doc-biblioref">1959</a>)</span> y desarrollado por <span class="citation" data-cites="fletcher1971">Fletcher (<a href="references.html#ref-fletcher1971" role="doc-biblioref">1971</a>)</span> y <span class="citation" data-cites="bunch1977">Bunch y Kaufman (<a href="references.html#ref-bunch1977" role="doc-biblioref">1977</a>)</span>.</p></li>
<li><p>Dual Active Set: El método, como se expone en <span class="citation" data-cites="Goldfarb1982ANS">Goldfarb y Idnani (<a href="references.html#ref-Goldfarb1982ANS" role="doc-biblioref">1982</a>)</span> y <span class="citation" data-cites="Goldfarb1983ANS">Goldfarb y Idnani (<a href="references.html#ref-Goldfarb1983ANS" role="doc-biblioref">1983</a>)</span>, es un algoritmo dual eficiente y numéricamente estable para la programación cuadrática definida positiva que aprovecha el hecho de que el mínimo sin restricciones de la función objetivo se puede usar como punto de partida.</p></li>
<li><p>Augmented Lagrangian: Fue introducido independientemente en <span class="citation" data-cites="hestenes1969">Magnus R. Hestenes (<a href="references.html#ref-hestenes1969" role="doc-biblioref">1969</a>)</span> y <span class="citation" data-cites="powell1969">Powell (<a href="references.html#ref-powell1969" role="doc-biblioref">1969</a>)</span>. Se utiliza para resolver problemas de optimización restringidos agregando un término de penalización a la función objetivo que penaliza cualquier violación de las restricciones. El término de penalización suele ser un múltiplo de una medida de infracción de restricción, como la suma de infracciones de restricción al cuadrado.</p></li>
<li><p>Conjugate Gradient: Este es un método iterativo para resolver sistemas de ecuaciones lineales con una matriz definida positiva simétrica. También se puede utilizar para resolver problemas de optimización sin restricciones al encontrar el mínimo de una función cuadrática. El método genera una secuencia de direcciones de búsqueda que se conjugan con respecto a la matriz que define el sistema de ecuaciones o función cuadrática. El método de gradiente conjugado fue introducido originalmente en un artículo de <span class="citation" data-cites="Hestenes1952">Magnus R. Hestenes y Stiefel (<a href="references.html#ref-Hestenes1952" role="doc-biblioref">1952</a>)</span>.</p></li>
<li><p>Gradient Projection: El método de proyección de gradiente fue introducido en <span class="citation" data-cites="rosen1960">J. B. Rosen (<a href="references.html#ref-rosen1960" role="doc-biblioref">1960</a>)</span> y <span class="citation" data-cites="rosen1961">J. Rosen (<a href="references.html#ref-rosen1961" role="doc-biblioref">1961</a>)</span>. Este es un método iterativo para resolver problemas de optimización restringidos proyectando el gradiente en la región factible en cada iteración. El gradiente proyectado se utiliza entonces como dirección de búsqueda, y se realiza una búsqueda de línea a lo largo de esta dirección para encontrar una nueva iteración que satisfaga las restricciones y reduzca la función objetivo.</p></li>
</ul>
<p>De las técnicas señaladas con anterioridad se seleccionó el algoritmo Dual Active Set Method (en lo adelante, DASM) que como se mencionó con anterioridad fue introducido en <span class="citation" data-cites="Goldfarb1982ANS">Goldfarb y Idnani (<a href="references.html#ref-Goldfarb1982ANS" role="doc-biblioref">1982</a>)</span> y <span class="citation" data-cites="Goldfarb1983ANS">Goldfarb y Idnani (<a href="references.html#ref-Goldfarb1983ANS" role="doc-biblioref">1983</a>)</span>, es un algoritmo de optimización para resolver problemas de programación cuadrática. El algoritmo predice el conjunto activo de restricciones que se satisfacen con igualdad en la solución del problema. Calcula una secuencia de soluciones óptimas de problemas QP que involucran algunas de las restricciones del problema original, denominada secuencia de puntos factibles duales.</p>
<p>A continuación, se presenta un ejemplo general de cómo podría funcionar el algoritmo DASM usando valores hipotéticos para un problema de optimización de cartera con 2 activos, el ejemplo fue construido a partir de lo expuesto en <span class="citation" data-cites="GOSWAMI2012620">Goswami, Mondal, y Paruya (<a href="references.html#ref-GOSWAMI2012620" role="doc-biblioref">2012</a>)</span> y <span class="citation" data-cites="rwalk14">Walker (<a href="references.html#ref-rwalk14" role="doc-biblioref">2014</a>)</span>:</p>
<p>Bajo la suposición de que se trata de encontrar la mejor composición de una cartera en la que, por simplicidad, tenemos 2 activos, Se plantearia el problema cuadrático de la siguiente manera <a href="#eq-qpop">Ecuación&nbsp;<span>1</span></a>:</p>
<p><span id="eq-qpop"><span class="math display">\[
\begin{aligned}
min~~Q(\vec{w}) &amp;= \vec{w}^TC\vec{w}\\
sujeto~a:\\
w_{1}+w_{2}=1\\
0\leq{w_{i}}\leq{1}\\
w_{1}\mathbb{E} + w_{2}\mathbb{E} \geq{0.005}
\end{aligned}
\tag{1}\]</span></span></p>
<p>Suponiendo que los cuales tienen unos rendimientos mensuales medios <span class="math inline">\(r=\begin{bmatrix} 0.02 &amp; 0.03 \end{bmatrix}\)</span> y matriz de covarianza <span class="math inline">\(C=\begin{bmatrix} 0.001 &amp; 0.0008 \\ 0.0008 &amp; 0.002 \end{bmatrix}\)</span> . Se pueden construir los vectores y matrices necesarios para el algoritmo DASM de la siguiente manera:</p>
<ul>
<li><p>El vector de rentabilidad media mensual sería <span class="math inline">\(r=\begin{bmatrix} 0.02 &amp; 0.03 \end{bmatrix}\)</span>.</p></li>
<li><p>La matriz de covarianza C se usaría como la matriz D en DASM.</p></li>
<li><p>La restricción <span class="math inline">\(w_{1}+w_{2}=1\)</span> se puede escribir en forma de matriz como <span class="math inline">\(\begin{bmatrix} 1 &amp; 1 \end{bmatrix} \begin{bmatrix} w_1 \\ w_2 \end{bmatrix} = 1\)</span>. Esta sería la primera fila de la matriz <span class="math inline">\(A\)</span> en DASM.</p></li>
<li><p>El requisito de rentabilidad mínima <span class="math inline">\(w_{1}\mathbb{E} + w_{2}\mathbb{E} \geq{0.005}\)</span> puede escribirse en forma de matriz como <span class="math inline">\(\begin{bmatrix} 0.02 &amp; 0.03 \end{bmatrix} \begin{bmatrix} w_1 \\ w_2 \end{bmatrix} \geq{0.005}\)</span>. Esta sería otra fila de la matriz <span class="math inline">\(A\)</span> en DASM.</p></li>
<li><p>Las restricciones <span class="math inline">\(0\leq{w_i}\leq{1}\)</span> se pueden escribir en forma de matriz como <span class="math inline">\(\begin{bmatrix} 1 &amp; 0 \end{bmatrix} \begin{bmatrix} w_1 \\ w_2 \end{bmatrix} \geq{0}\)</span> y <span class="math inline">\(\begin{bmatrix} 0 &amp; 1 \end{bmatrix} \begin{bmatrix} w_1 \\ w_2 \end{bmatrix} \geq{0}\)</span> para límites inferiores y <span class="math inline">\(\begin{bmatrix} -1 &amp; 0 \end{bmatrix} \begin{bmatrix} w_1 \\ w_2 \end{bmatrix} \geq{-1}\)</span> y <span class="math inline">\(\begin{bmatrix} 0 &amp; -1 \end{bmatrix} \begin{bmatrix} w_1 \\ w_2 \end{bmatrix} \geq{-1}\)</span> para límites superiores.</p></li>
<li><p>La matriz <span class="math inline">\(A\)</span> luciría así: <span class="math inline">\(A=\begin{bmatrix} 1 &amp; 1 \\ 0.02 &amp; 0.03 \\ 1 &amp; 0 \\ 0 &amp; 1 \\ -1 &amp; 0 \\ 0 &amp; -1 \end{bmatrix}\)</span></p></li>
</ul>
<p>El vector <span class="math inline">\(b\)</span> correspondiente sería <span class="math inline">\(\begin{bmatrix} 1 &amp; 0.005 &amp; 0 &amp; 0 &amp; -1 &amp; -1\end{bmatrix}\)</span>. Luego podemos usar el algoritmo DASM para resolver este problema de programación cuadrática y determinar la asignación óptima de activos en nuestra cartera.</p>
<p>Paso 0: Encuentre el mínimo sin restricciones resolviendo el problema de programación cuadrática sin restricciones. Establecer el número de elementos del conjunto activo A (conjunto vacío) a cero.</p>
<p>Paso 1: Elija una restricción violada, si la hay. En este caso, supongamos que se viola la restricción <span class="math inline">\(w_{1}+w_{2}=1\)</span>.</p>
<p>Paso 2: Calcule las direcciones del paso primario y dual y la longitud del paso <span class="math inline">\(t=min(t_{1},t_{2})\)</span>. Supongamos que <span class="math inline">\(t=t_{2}\)</span>.</p>
<p>Paso 3: Da un paso y actualiza el conjunto activo A y la solución (<span class="math inline">\(S\)</span>) par (x, A). Como <span class="math inline">\(t=t_{2}\)</span> , agregamos la p-ésima restricción (en este caso <span class="math inline">\(w_1+w_2=1\)</span>) a <span class="math inline">\(\bar{N}\)</span> y actualizamos <span class="math inline">\(H\)</span> y <span class="math inline">\(N^{*}\)</span> en <a href="#eq-consup">Ecuación&nbsp;<span>2</span></a>.</p>
<p><span id="eq-consup"><span class="math display">\[
\begin{aligned}
N^{*}=(\bar{N}^{T}Q^{-1}\bar{N})\bar{N}^{T}Q^{-1}\\
H=Q^{-1}(I-\bar{N}N^{*})
\end{aligned}
\tag{2}\]</span></span></p>
<p>Donde:</p>
<div class="margin">
<p><span class="math inline">\(N^{*}\)</span> es la pseudo-inversa o la inversa generalizada Moore-Penrose de <span class="math inline">\(\bar{N}\)</span>.</p>
</div>
<div class="margin">
<p><span class="math inline">\(\bar{N}\)</span> es la matriz de los vectores normales de las restricciones en el conjunto activo <span class="math inline">\(A\)</span>.</p>
</div>
<div class="margin">
<p><span class="math inline">\(H\)</span> es el operador hessiano inverso reducido de <span class="math inline">\(Q\)</span>.</p>
</div>
<p>Se repetin estos pasos de manera iterativa hasta que se satisfagan todas las restricciones y se haya determinado la asignación óptima de activos.</p>


<div id="refs" class="references csl-bib-body hanging-indent" role="list" style="display: none">
<div id="ref-Zhi08" class="csl-entry" role="listitem">
Aijun Zhang &amp; Chun-hung Li &amp; Agus Sudjianto, Zhi-li Wu &amp;. 2008. <span>«Trace solution paths for SVMs via parametric quadratic programming»</span>. Researchgate. 2008. <a href="https://www.researchgate.net/publication/228577955_Trace_solution_paths_for_SVMs_via_parametric_quadratic_programming">https://www.researchgate.net/publication/228577955_Trace_solution_paths_for_SVMs_via_parametric_quadratic_programming</a>.
</div>
<div id="ref-beale1959" class="csl-entry" role="listitem">
Beale, EML. 1959. <span>«On quadratic proramming»</span>. <em>Naval Research Logistics Quarterly</em> 6 (3): 227-43.
</div>
<div id="ref-bunch1977" class="csl-entry" role="listitem">
Bunch, James R, y Linda Kaufman. 1977. <span>«Some stable methods for calculating inertia and solving symmetric linear systems»</span>. <em>Mathematics of computation</em> 31 (137): 163-79.
</div>
<div id="ref-cai2004minimax" class="csl-entry" role="listitem">
Cai, Xiaoqiang, Kok Lay Teo, XQ Yang, y Xun Yu Zhou. 2004. <span>«Minimax portfolio optimization: empirical numerical study»</span>. <em>Journal of the Operational Research Society</em> 55 (1): 65-72.
</div>
<div id="ref-drucker1996linear" class="csl-entry" role="listitem">
Drucker, Harris, Christopher Burges, Linda Kaufman, Alex Smola, y Vladimir Vapnik. 1996. <span>«Linear support vector regression machines»</span>. <em>Advances in neural information processing systems</em> 9 (9): 155-61.
</div>
<div id="ref-fletcher1971" class="csl-entry" role="listitem">
Fletcher, Roger. 1971. <span>«A general quadratic programming algorithm»</span>. <em>IMA Journal of Applied Mathematics</em> 7 (1): 76-91.
</div>
<div id="ref-Goldfarb1982ANS" class="csl-entry" role="listitem">
Goldfarb, Donald, y Ashok U. Idnani. 1982. <span>«Dual and primal-dual methods for solving strictly convex quadratic programs»</span>. En <em>Numerical Analysis</em>, editado por J. P. Hennart, 226-39. Berlin, Heidelberg: Springer Berlin Heidelberg.
</div>
<div id="ref-Goldfarb1983ANS" class="csl-entry" role="listitem">
———. 1983. <span>«A numerically stable dual method for solving strictly convex quadratic programs»</span>. <em>Mathematical Programming</em> 27: 1-33.
</div>
<div id="ref-GOSWAMI2012620" class="csl-entry" role="listitem">
Goswami, Nababithi, Supriyo K. Mondal, y Swapan Paruya. 2012. <span>«A Comparative Study of Dual Active-Set and Primal-Dual Interior-Point Method»</span>. <em>IFAC Proceedings Volumes</em> 45 (15): 620-25. https://doi.org/<a href="https://doi.org/10.3182/20120710-4-SG-2026.00029">https://doi.org/10.3182/20120710-4-SG-2026.00029</a>.
</div>
<div id="ref-Gunjan2023" class="csl-entry" role="listitem">
Gunjan, Siddhartha, Abhishek &amp; Bhattacharyya. 2023. <span>«<span>A brief review of portfolio optimization techniques</span>»</span>. <em>Artificial Intelligence Review</em> 56 (5): 3847-86. <a href="https://doi.org/10.1007/s10462-022-10273-7">https://doi.org/10.1007/s10462-022-10273-7</a>.
</div>
<div id="ref-hestenes1969" class="csl-entry" role="listitem">
Hestenes, Magnus R. 1969. <span>«Multiplier and gradient methods»</span>. <em>Journal of optimization theory and applications</em> 4 (5): 303-20.
</div>
<div id="ref-Hestenes1952" class="csl-entry" role="listitem">
Hestenes, Magnus R., y Eduard Stiefel. 1952. <span>«Methods of conjugate gradients for solving linear systems»</span>. <em>Journal of research of the National Bureau of Standards</em> 49: 409-35.
</div>
<div id="ref-jorion2007" class="csl-entry" role="listitem">
Jorion, Philippe. 2007. <em>Value at risk: the new benchmark for managing financial risk</em>. The McGraw-Hill Companies, Inc.
</div>
<div id="ref-karmarkar1984" class="csl-entry" role="listitem">
Karmarkar, Narendra. 1984. <span>«A new polynomial-time algorithm for linear programming»</span>. En <em>Proceedings of the sixteenth annual ACM symposium on Theory of computing</em>, 302-11.
</div>
<div id="ref-konno1991" class="csl-entry" role="listitem">
Konno, Hiroshi, y Hiroaki Yamazaki. 1991. <span>«Mean-absolute deviation portfolio optimization model and its applications to Tokyo stock market»</span>. <em>Management science</em> 37 (5): 519-31.
</div>
<div id="ref-markowitz1967" class="csl-entry" role="listitem">
Markowitz, Harry M, y Harry M Markowitz. 1967. <em>Portfolio selection: efficient diversification of investments</em>. J. Wiley.
</div>
<div id="ref-powell1969" class="csl-entry" role="listitem">
Powell, Michael JD. 1969. <span>«A method for nonlinear constraints in minimization problems»</span>. <em>Optimization</em>, 283-98.
</div>
<div id="ref-rockafellar2002" class="csl-entry" role="listitem">
Rockafellar, R Tyrrell, y Stanislav Uryasev. 2002. <span>«Conditional value-at-risk for general loss distributions»</span>. <em>Journal of banking &amp; finance</em> 26 (7): 1443-71.
</div>
<div id="ref-rosen1961" class="csl-entry" role="listitem">
Rosen, JB. 1961. <span>«The gradient projection method for nonlinear programming. Part II. Nonlinear constraints»</span>. <em>Journal of the Society for Industrial and Applied Mathematics</em> 9 (4): 514-32.
</div>
<div id="ref-rosen1960" class="csl-entry" role="listitem">
Rosen, Jo Bo. 1960. <span>«The gradient projection method for nonlinear programming. Part I. Linear constraints»</span>. <em>Journal of the society for industrial and applied mathematics</em> 8 (1): 181-217.
</div>
<div id="ref-samuelson1970" class="csl-entry" role="listitem">
Samuelson, Paul A. 1970. <span>«The fundamental approximation theorem of portfolio analysis in terms of means, variances and higher moments»</span>. <em>The Review of Economic Studies</em> 37 (4): 537-42.
</div>
<div id="ref-shenoy2000bayesian" class="csl-entry" role="listitem">
Shenoy, Catherine, y Prakash P Shenoy. 2000. <span>«Bayesian network models of portfolio risk and return»</span>. En. The MIT Press.
</div>
<div id="ref-sutton2018reinforcement" class="csl-entry" role="listitem">
Sutton, Richard S, y Andrew G Barto. 2018. <em>Reinforcement learning: An introduction</em>. MIT press.
</div>
<div id="ref-rwalk14" class="csl-entry" role="listitem">
Walker, Ryan. 2014. <span>«Solving Quadratic Progams with R’s quadprog package»</span>. rwalk. 2014. <a href="https://rwalk.xyz/solving-quadratic-progams-with-rs-quadprog-package/">https://rwalk.xyz/solving-quadratic-progams-with-rs-quadprog-package/</a>.
</div>
</div>
</section>

</main> <!-- /main -->
<script type="text/javascript">

  const elementWithauthor = document.querySelector('.quarto-title-meta-author');
  
  if(elementWithauthor){
    
    //Ad more description in title banner
    let TFMtitle = document.getElementById('title-block-header');
    let TFMtitlefc = TFMtitle.firstElementChild;
    let TFMtitlefcfc = TFMtitlefc.firstElementChild;
    const sublead = document.createElement('p');
      sublead.className = 'subtitle lead';
      sublead.id = 'sublead';
      sublead.textContent = 'Máster Universitario en Banca y Finanzas Curso académico 2022/2023';
    const sub_sublead = document.createElement('p');
      sub_sublead.className = 'subtitle lead';
      sub_sublead.id='sub_sublead';
      sub_sublead.textContent = 'Trabajo de Fin de Máster presentado en la Facultad de Economía y Empresa de la Universidade da Coruña para la obtención del Máster en Banca y Finanzas';
    TFMtitlefcfc.appendChild(sublead);
    TFMtitlefcfc.appendChild(sub_sublead);
    
    //Fix authoring info
    const authorsElement = document.querySelector('.quarto-title-meta-heading');
    authorsElement.textContent = "AUTOR";
    const authorsInfo = authorsElement.parentElement;
    const tutorname = authorsElement.cloneNode(true);
    tutorname.textContent = "TUTOR";
    tutorname.style.marginTop = '0';
    const tutorafili = tutorname.cloneNode(true);
    tutorafili.textContent = "";
    authorsInfo.insertBefore(tutorafili, authorsInfo.children[4]);
    authorsInfo.insertBefore(tutorname, authorsInfo.children[4]);
    
  }else{
    let TFMtitle = document.getElementById('title-block-header');
    let TFMtitlefc = TFMtitle.firstElementChild;
    let TFMtitlefcfc = TFMtitlefc.firstElementChild;
    const sub_sublead = document.createElement('p');
      sub_sublead.className = 'subtitle lead';
      sub_sublead.id='sub_sublead';
      sub_sublead.textContent = 'Aplicación de redes neuronales artificiales y programación cuadrática en la gestión de carteras';
    TFMtitlefcfc.appendChild(sub_sublead);
    
    
    
  }
</script>

<script>

// Read the HTML content from a file
async function readHTMLFile(filePath) {
  try {
    const response = await fetch(filePath);
    const htmlContent = await response.text();
    return htmlContent;
  } catch (error) {
    console.error('Error reading HTML file:', error);
    return null;
  }
}

// Main function to process the HTML file
async function processHtmlFile(filePath, patternToMatch, patternToReplace, replacement) {
  const htmlContent = await readHTMLFile(filePath);
  const idsToSearch = [];

  if (htmlContent) {
    const parser = new DOMParser();
    const doc = parser.parseFromString(htmlContent, 'text/html');

    const elementsWithMatchingIds = Array.from(doc.querySelectorAll('[id^="' + patternToMatch + '"]'));
    elementsWithMatchingIds.forEach(element => {
      const id = element.getAttribute('id');
      idsToSearch.push(id);
    });
  }

  const anchorElements = Array.from(document.querySelectorAll('a'));

  anchorElements.forEach(anchorElement => {
    const href = anchorElement.getAttribute('href');
    if (idsToSearch.some(id => href && href.endsWith(id))) {
      anchorElement.innerHTML = anchorElement.innerHTML.replace(patternToReplace, replacement);
    }
  });
}


const filePath = 'Annex2.html'; 
const patternToMatch = 'fig-'; 
const patternToReplace = 'Figura&nbsp;';
const replacement = 'Gráfica ';

processHtmlFile(filePath, patternToMatch, patternToReplace, replacement);
  
</script>
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copiado");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copiado");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="./ANNinTSF.html" class="pagination-link">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text">2.2 Redes neuronales artificiales en la previsión de las series de tiempo</span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="./Data.html" class="pagination-link">
        <span class="nav-page-text">2.4 Datos</span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">Trabajo Final de Máster de <a href="https://fee.udc.es/"><img src="feelogo.png" class="img-fluid" alt="FEE" width="65"></a> <a href="https://www.udc.es/"><img src="udclogo.png" class="img-fluid" alt="FEE" width="65"></a></div>   
    <div class="nav-footer-center">
      <ul class="footer-items list-unstyled">
    <li class="nav-item">
 David Díaz Rodríguez
  </li>  
</ul>
    </div>
    <div class="nav-footer-right">
      <ul class="footer-items list-unstyled">
    <li class="nav-item compact">
    <a class="nav-link" href="https://www.linkedin.com/in/david-d-6257951b8/">
      <i class="bi bi-linkedin" role="img" aria-label="Linkedin">
</i> 
    </a>
  </li>  
    <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/davidrsch/TFM/">
      <i class="bi bi-github" role="img" aria-label="TFM GitHub">
</i> 
    </a>
  </li>  
</ul>
    </div>
  </div>
</footer>



</body></html>