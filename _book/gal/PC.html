<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.353">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Traballo Fin de Máster - 2.3 Composición de carteiras</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for citations */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
}
.hanging-indent div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./Data.html" rel="next">
<link href="./ANNinTSF.html" rel="prev">
<link href="./../icologo.png" rel="icon" type="image/png">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 20,
  "language": {
    "search-no-results-text": "Sen resultados",
    "search-matching-documents-text": "documentos coincidentes",
    "search-copy-link-title": "Copiar ligazón para buscar",
    "search-hide-matches-text": "Ocultar coincidencias adicionais",
    "search-more-match-text": "máis coincidencias neste documento",
    "search-more-matches-text": "máis coincidencias neste documento",
    "search-clear-button-title": "Borrar",
    "search-detached-cancel-button-title": "Cancelar",
    "search-submit-button-title": "Enviar"
  }
}</script>
<style>

      .quarto-title-block .quarto-title-banner {
        background: #D60D8C;
      }
</style>

  <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<link rel="stylesheet" href="../my_style.css">
</head>

<body class="nav-sidebar floating">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Cambiar navegación da barra lateral" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
      <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./body.html">2 Desenvolvemento do traballo</a></li><li class="breadcrumb-item"><a href="./PC.html">2.3 Composición de carteiras</a></li></ol></nav>
      <a class="flex-grow-1" role="button" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Cambiar navegación da barra lateral" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
      </a>
      <button type="button" class="btn quarto-search-button" aria-label="Search" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<header id="title-block-header" class="quarto-title-block default page-columns page-full">
  <div class="quarto-title-banner page-columns page-full">
    <div class="quarto-title column-body">
      <h1 class="title">2.3 Composición de carteiras</h1>
                      </div>
  </div>
    
  
  <div class="quarto-title-meta">

      
    
      
    </div>
    
  
  </header><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal sidebar-navigation floating overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="./">Traballo Fin de Máster</a> 
        <div class="sidebar-tools-main tools-wide">
    <div class="dropdown">
      <a href="" title="" id="quarto-navigation-tool-dropdown-0" class="quarto-navigation-tool dropdown-toggle px-1" data-bs-toggle="dropdown" aria-expanded="false" aria-label=""><i class="bi bi-translate"></i></a>
      <ul class="dropdown-menu" aria-labelledby="quarto-navigation-tool-dropdown-0">
          <li>
            <a class="dropdown-item sidebar-tools-main-item" href="./../index.html">
            Español
            </a>
          </li>
          <li>
            <a class="dropdown-item sidebar-tools-main-item" href="./../en/index.html">
            English
            </a>
          </li>
      </ul>
    </div>
    <a href="https://github.com/davidrsch/TFM" title="Source Code" class="quarto-navigation-tool px-1" aria-label="Source Code"><i class="bi bi-github"></i></a>
    <a href="https://twitter.com/intent/tweet?url=|url|" title="Twitter" class="quarto-navigation-tool px-1" aria-label="Twitter"><i class="bi bi-twitter"></i></a>
</div>
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Descrición</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./greetings.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Grazas</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./summarygal.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Resumo</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./summaryes.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Resumen</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./summaryen.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Abstract</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./intro.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">1 Introdución</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="./body.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">2 Desenvolvemento do traballo</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true" aria-label="Alternar sección">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./FSandP.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">2.1 Caracterización de series temporais financeiras</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./ANNinTSF.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">2.2 Redes neuronais artificiais na previsión de series temporais</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./PC.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text">2.3 Composición de carteiras</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Data.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">2.4 Datos</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./MandT.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">2.5 Modelado e formación</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Results.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">2.6 Resultado</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./conclusions.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">3 Conclusións</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./references.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Bibliografía</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" aria-expanded="false">
 <span class="menu-text">Anexos</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" aria-expanded="false" aria-label="Alternar sección">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Annex1.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Anexo. 1 Figuras</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Annex2.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Anexo. 2 Gráficos</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Annex3.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Anexo. 3 Taboleiros</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Annex4.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Anexo. 4 Códigos</span></a>
  </div>
</li>
      </ul>
  </li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Táboa de contidos</h2>
   
  <ul>
  <li><a href="#problema-e-técnicas" id="toc-problema-e-técnicas" class="nav-link active" data-scroll-target="#problema-e-técnicas">2.3.1 Problema e técnicas</a></li>
  <li><a href="#programación-cuadrática" id="toc-programación-cuadrática" class="nav-link" data-scroll-target="#programación-cuadrática">2.3.1 Programación cuadrática</a></li>
  </ul>
<div class="toc-actions"><div><i class="bi bi-github"></i></div><div class="action-links"><p><a href="https://github.com/davidrsch/TFM/edit/main/PC.qmd" class="toc-action">Editar esta páxina</a></p></div></div></nav>
    </div>
<!-- main -->
<main class="content quarto-banner-title-block" id="quarto-document-content">




<p>Neste apartado exponse o problema de atopar a mellor composición de carteira posible e explícase de forma xeral a teoría que se sustenta nos obxectivos para resolvelo. Ademais, enumeraranse as técnicas máis utilizadas, diferenciando enfoques clásicos e enfoques intelixentes. Posteriormente, explicarase o que é a programación cuadrática e mencionaranse algunhas técnicas dentro desta disciplina de optimización matemática. Mostrarase como se pode describir o problema de optimización da carteira como un problema de programación cuadrática. Ademais, farase unha breve explicación do Método de conxunto activo dual, técnica moi utilizada nesta disciplina e que se utilizará nos seguintes capítulos.</p>
<section id="problema-e-técnicas" class="level2">
<h2 class="anchored" data-anchor-id="problema-e-técnicas">2.3.1 Problema e técnicas</h2>
<p>Como explica <span class="citation" data-cites="Gunjan2023">Gunjan (<a href="references.html#ref-Gunjan2023" role="doc-biblioref">2023</a>)</span>, a optimización da carteira é o proceso de selección da mellor combinación de activos para manter nunha carteira en función de obxectivos predefinidos. Os obxectivos poden ser a maximización do retorno ou a minimización do risco, ou ambos. A optimización da carteira implica atopar os pesos óptimos para cada activo da carteira para que a carteira global cumpra os obxectivos desexados. Este pode ser un problema desafiante debido á gran cantidade de activos para escoller e ás complexas relacións entre eles.</p>
<p>A optimización da carteira é un proceso importante para os investimentos, xa que lles axuda a minimizar o risco e maximizar o retorno dos seus investimentos. Ao seleccionar coidadosamente os activos para manter na súa carteira, os investimentos poden acadar o nivel de risco e rendemento desexados ao tempo que diversifican os seus investimentos para reducir o risco global. A optimización da carteira é un mecanismo crucial utilizado para reducir o risco de investimento.</p>
<p>Existen varias técnicas que se poden utilizar para resolver o problema de optimización da carteira. En <span class="citation" data-cites="Gunjan2023">Gunjan (<a href="references.html#ref-Gunjan2023" role="doc-biblioref">2023</a>)</span> estas técnicas clasifícanse en dúas categorías: enfoques clásicos e enfoques intelixentes. A continuación móstrase unha explicación xeral dalgunhas das técnicas pertencentes a cada enfoque.</p>
<p>Enfoques clásicos:</p>
<ul>
<li><p>Media-varianza: esta técnica, proposta en <span class="citation" data-cites="markowitz1967">Markowitz and Markowitz (<a href="references.html#ref-markowitz1967" role="doc-biblioref">1967</a>)</span>, baséase na idea de minimizar a varianza para un rendemento esperado determinado ou maximizar o retorno esperado para unha varianza determinada. É unha técnica de programación cuadrática paramétrica (en diante PQP) que se pode utilizar para resolver problemas de optimización cuadrática que xorden na optimización de carteiras (<span class="citation" data-cites="Zhi08">Aijun Zhang &amp; Chun-hung Li &amp; Agus Sudjianto (<a href="references.html#ref-Zhi08" role="doc-biblioref">2008</a>)</span>). O enfoque da varianza media asume que os investimentos son reacios ao risco e prefiren carteiras con menor varianza. A técnica consiste en construír unha fronteira de carteira que represente o conxunto de carteiras que ofrecen o maior rendemento esperado para un determinado nivel de risco. A continuación, selecciónase a carteira óptima desta fronteira en función das preferencias de risco do investidor.</p></li>
<li><p>Varianza sesgada: esta técnica amplía o enfoque da varianza media ao contabilizar a distribución sesgada. Propúxose en <span class="citation" data-cites="samuelson1970">Samuelson (<a href="references.html#ref-samuelson1970" role="doc-biblioref">1970</a>)</span> e pódese usar cando a función de distribución non é de natureza cuadrática. A asimetría mide a asimetría dunha distribución e pode proporcionar información adicional sobre os riscos potenciais e os rendementos dunha carteira. Ao incorporar a asimetría ao proceso de optimización da carteira, os investidores poden comprender mellor os posibles riscos negativos e tomar decisións máis informadas.</p></li>
<li><p>Valor en risco (VaR): este enfoque estatístico mide a potencial perda de valor dunha carteira durante un período definido para un determinado intervalo de confianza. Introduciuse na primeira edición de <span class="citation" data-cites="jorion2007">Jorion (<a href="references.html#ref-jorion2007" role="doc-biblioref">2007</a>)</span> en 1997 e require a determinación de tres parámetros: período de tempo, nivel de confianza e unidade de valor en risco. O VaR proporciona unha medida da perda potencial máxima que podería ocorrer cunha probabilidade determinada nun horizonte temporal especificado. É habitualmente utilizado polas entidades financeiras para xestionar a súa exposición ao risco e cumprir cos requisitos regulamentarios.</p></li>
<li><p>Valor en risco condicional (CVaR): este enfoque amplía o VaR tendo en conta a perda esperada que supera o VaR. Introduciuse en <span class="citation" data-cites="rockafellar2002">Rockafellar and Uryasev (<a href="references.html#ref-rockafellar2002" role="doc-biblioref">2002</a>)</span> e pode xestionar perdas extremas mediante o uso de pesos dinámicos derivados de datos históricos. O CVaR proporciona unha medida da perda esperada que podería ocorrer máis aló do limiar de VaR. Tamén se coñece como Expected Shortfall (ES) ou Tail Value-at-Risk (TVaR) e considérase unha medida de risco máis consistente que o VaR.</p></li>
<li><p>Desviación media absoluta (MAD): esta técnica pódese usar para problemas de selección de carteiras a gran escala e moi diversificados. Introduciuse en <span class="citation" data-cites="konno1991">Konno and Yamazaki (<a href="references.html#ref-konno1991" role="doc-biblioref">1991</a>)</span> e penaliza as desviacións tanto positivas como negativas. MAD proporciona unha medida da desviación absoluta media dos rendementos da carteira do seu valor medio. Considérase máis robusta que as medidas baseadas na varianza, xa que é menos sensible aos valores atípicos.</p></li>
<li><p>Minimax: esta técnica utiliza o rendemento mínimo como medida de risco. Introduciuse en <span class="citation" data-cites="cai2004minimax">Cai et al. (<a href="references.html#ref-cai2004minimax" role="doc-biblioref">2004</a>)</span> e ten certas vantaxes cando os rendementos non se distribúen normalmente. Minimax ofrece unha medida no peor dos casos para unha carteira minimizando a máxima perda potencial que podería ocorrer. Pode ser útil para os investimentos que están especialmente preocupados polos riscos á baixa.</p></li>
</ul>
<p>Enfoques intelixentes:</p>
<ul>
<li><p>Redes bayesianas: estes modelos gráficos probabilísticos pódense usar para modelar o risco e o rendemento. Presentáronse en <span class="citation" data-cites="shenoy2000bayesian">Shenoy and Shenoy (<a href="references.html#ref-shenoy2000bayesian" role="doc-biblioref">2000</a>)</span> e pódense usar para visualizar a relación entre diferentes variables nun modelo. As redes bayesianas proporcionan unha forma de representar dependencias complexas entre variables mediante gráficos acíclicos dirixidos (DAG). Pódense usar para modelar relacións incertas entre variables e para facer predicións probabilísticas sobre eventos futuros. No contexto da xestión de carteiras, as redes bayesianas poden usarse para modelar as relacións entre diferentes activos e facer predicións sobre os seus retornos futuros en base a datos históricos e outra información relevante.</p></li>
<li><p>Regresión vectorial de soporte (SVR): esta técnica de aprendizaxe automática pódese usar para determinar a cantidade a mercar e vender. Foi introducido por <span class="citation" data-cites="drucker1996linear">Drucker et al. (<a href="references.html#ref-drucker1996linear" role="doc-biblioref">1996</a>)</span> e ten certas vantaxes sobre as técnicas baseadas en estatísticas, como a súa capacidade para aprender a partir de datos históricos. SVR implica construír un hiperplano que separa os puntos de datos con diferentes etiquetas ao tempo que maximiza a marxe entre eles. Pódese usar para tarefas de regresión onde o obxectivo é predicir valores continuos en lugar de etiquetas discretas. No contexto da xestión de carteiras, o SVR pódese usar para predecir os prezos futuros dos activos baseándose en datos históricos e outra información relevante.</p></li>
<li><p>Redes neuronais artificiais: como se explicou anteriormente, estes modelos computacionais pódense utilizar para resolver problemas complexos de cómputo e aprendizaxe. No contexto da xestión de carteiras, as redes neuronais pódense usar para predecir os prezos futuros dos activos ou os rendementos en función de datos históricos e outra información relevante, que é para o que se utilizan neste documento.</p></li>
<li><p>Aprendizaxe por reforzo: este tipo de aprendizaxe automática implica que un axente ou modelo interactúa co seu entorno para aprender das súas accións. Presentouse en <span class="citation" data-cites="sutton2018reinforcement">Sutton and Barto (<a href="references.html#ref-sutton2018reinforcement" role="doc-biblioref">2018</a>)</span> e traballa para maximizar a recompensa dos axentes. A aprendizaxe por reforzo implica a aprendizaxe mediante interaccións de proba e erro cun ambiente. O axente realiza accións en función do seu estado actual e recibe recompensas ou penalizacións en función dos resultados desas accións. Co tempo, o axente aprende a tomar accións que maximizan a súa recompensa acumulada. No contexto da xestión de carteiras, a aprendizaxe de reforzo pódese utilizar para desenvolver estratexias comerciais que maximicen os rendementos ao mesmo tempo que xestionan o risco.</p></li>
</ul>
</section>
<section id="programación-cuadrática" class="level2">
<h2 class="anchored" data-anchor-id="programación-cuadrática">2.3.1 Programación cuadrática</h2>
<p>Este subtítulo explica o que é a programación cuadrática. Cales son algunhas das técnicas que existen dentro desta disciplina de optimización matemática. Tamén se expón como se pode describir o problema de optimización da carteira como un problema de programación cuadrática e explícase brevemente como funciona unha das técnicas máis empregadas nesta disciplina, concretamente o denominado Método de conxunto activo dual, que se emprega nos capítulos posteriores.</p>
<p>A programación cuadrática pódese escoller entre as técnicas enumeradas no subtítulo anterior por varias razóns. En primeiro lugar, é unha técnica ben establecida que foi amplamente utilizada na optimización da carteira. Pode xestionar problemas de optimización complexos con múltiples restricións e pode proporcionar unha forma eficiente e eficaz de resolver o problema de optimización da carteira. Isto convérteo nunha ferramenta útil para os investimentos que buscan minimizar o risco ao acadar o nivel de retorno desexado. Finalmente, a programación cuadrática ten unha sólida base teórica e foi amplamente estudada na literatura. Isto fai que sexa unha técnica fiable e ben entendida que se pode usar con confianza na optimización da carteira.</p>
<p>Existen varias técnicas de programación cuadrática, entre as máis utilizadas están:</p>
<ul>
<li><p>Punto interior: Este é un método de programación lineal ou non lineal que consegue a optimización pasando polo centro do sólido definido polo problema en lugar de arredor da súa superficie. <span class="citation" data-cites="karmarkar1984">Karmarkar (<a href="references.html#ref-karmarkar1984" role="doc-biblioref">1984</a>)</span> atopou un algoritmo de programación lineal tempo polinómico usando un método de punto interior.</p></li>
<li><p>Conxunto activo: este é un algoritmo usado para identificar as restricións activas nun conxunto de restricións de desigualdade. As restricións activas exprésanse entón como restricións de igualdade, transformando así un problema restrinxido de desigualdade nun subproblema máis simple de restricións de igualdade. O método de conxunto activo foi introducido por primeira vez nun artigo de <span class="citation" data-cites="beale1959">Beale (<a href="references.html#ref-beale1959" role="doc-biblioref">1959</a>)</span> e desenvolvido por <span class="citation" data-cites="fletcher1971">Fletcher (<a href="references.html#ref-fletcher1971" role="doc-biblioref">1971</a>)</span> e <span class="citation" data-cites="bunch1977">Bunch and Kaufman (<a href="references.html#ref-bunch1977" role="doc-biblioref">1977</a>)</span>.</p></li>
<li><p>Conxunto activo dual: o método, tal e como se expón <span class="citation" data-cites="Goldfarb1982ANS">Goldfarb and Idnani (<a href="references.html#ref-Goldfarb1982ANS" role="doc-biblioref">1982</a>)</span> e <span class="citation" data-cites="Goldfarb1983ANS">Goldfarb and Idnani (<a href="references.html#ref-Goldfarb1983ANS" role="doc-biblioref">1983</a>)</span>, é un algoritmo dual eficiente e numéricamente estable para a programación cuadrática definida positiva que aproveita o feito de que o mínimo non restrinxido da función obxectivo pode ser usado como un punto de saída.</p></li>
<li><p>Lagrangiano aumentado: introduciuse de forma independente en <span class="citation" data-cites="hestenes1969">Magnus R. Hestenes (<a href="references.html#ref-hestenes1969" role="doc-biblioref">1969</a>)</span> e <span class="citation" data-cites="powell1969">Powell (<a href="references.html#ref-powell1969" role="doc-biblioref">1969</a>)</span>. Utilízase para resolver problemas de optimización restrinxida engadindo un termo de penalización á función obxectivo que penaliza calquera violación das restricións. O termo de penalización adoita ser un múltiplo dunha medida de infracción de restricións, como a suma de infraccións de restricións ao cadrado.</p></li>
<li><p>Gradiente conxugado: este é un método iterativo para resolver sistemas de ecuacións lineais cunha matriz definida positiva simétrica. Tamén se pode usar para resolver problemas de optimización sen restricións atopando o mínimo dunha función cuadrática. O método xera unha secuencia de enderezos de busca que se conxugan con respecto á matriz que define o sistema de ecuacións ou función cuadrática. O método de gradiente conxugado foi introducido orixinalmente nun artigo de <span class="citation" data-cites="Hestenes1952">Magnus R. Hestenes and Stiefel (<a href="references.html#ref-Hestenes1952" role="doc-biblioref">1952</a>)</span>.</p></li>
<li><p>Proxección de gradientes: o método de proxección de gradientes introduciuse en <span class="citation" data-cites="rosen1960">J. B. Rosen (<a href="references.html#ref-rosen1960" role="doc-biblioref">1960</a>)</span> e <span class="citation" data-cites="rosen1961">J. Rosen (<a href="references.html#ref-rosen1961" role="doc-biblioref">1961</a>)</span>. Este é un método iterativo para resolver problemas de optimización restrinxida proxectando o gradiente na rexión factible en cada iteración. O gradiente proxectado utilízase entón como dirección de busca e realízase unha busca de liña ao longo desta dirección para atopar unha nova iteración que satisfaga as restricións e reduza a función obxectivo.</p></li>
</ul>
<p>Entre as técnicas mencionadas anteriormente, seleccionouse o algoritmo Dual Active Set Method (en diante, DASM) que, como se mencionou anteriormente, foi introducido en <span class="citation" data-cites="Goldfarb1982ANS">Goldfarb and Idnani (<a href="references.html#ref-Goldfarb1982ANS" role="doc-biblioref">1982</a>)</span> e <span class="citation" data-cites="Goldfarb1983ANS">Goldfarb and Idnani (<a href="references.html#ref-Goldfarb1983ANS" role="doc-biblioref">1983</a>)</span>, é un algoritmo de optimización para resolver problemas de programación cuadrática. O algoritmo predice o conxunto activo de restricións que se satisfacen igualmente na solución do problema. Calcula unha secuencia de solucións óptimas de problemas QP que implican algunhas das restricións do problema orixinal, chamada secuencia de puntos factibles duais.</p>
<p>A continuación móstrase un exemplo xeral de como o algoritmo DASM podería funcionar usando os valores que ocorren para un problema de optimización de carteira de 2 activos, o exemplo foi construído a partir de <span class="citation" data-cites="GOSWAMI2012620">Goswami, Mondal, and Paruya (<a href="references.html#ref-GOSWAMI2012620" role="doc-biblioref">2012</a>)</span> e <span class="citation" data-cites="rwalk14">Walker (<a href="references.html#ref-rwalk14" role="doc-biblioref">2014</a>)</span>:</p>
<p>Baixo o suposto de que se trata de atopar a mellor composición dunha carteira na que, por simplicidade, teñamos 2 activos, o problema cuadrático exporíase do seguinte xeito <a href="#eq-qpop">Ecuación&nbsp;<span>1</span></a>:</p>
<p><span id="eq-qpop"><span class="math display">\[
\begin{aligned}
min~~Q(\vec{w}) &amp;= \vec{w}^TC\vec{w}\\
sujeto~a:\\
w_{1}+w_{2}=1\\
0\leq{w_{i}}\leq{1}\\
w_{1}\mathbb{E} + w_{2}\mathbb{E} \geq{0.005}
\end{aligned}
\tag{1}\]</span></span></p>
<p>Asumindo que teñen rendementos mensuais medios <span class="math inline">\(r=\begin{bmatrix} 0,02 &amp; 0,03 \end{bmatrix}\)</span> e unha matriz de covarianza <span class="math inline">\(C=\begin{bmatrix} 0,001 &amp; 0,0008 \\ 0,0008 &amp; 0,002 \end{bmatrix}\)</span> Os vectores e matrices necesarios para o algoritmo DASM pódense construír do seguinte xeito:</p>
<ul>
<li><p>O vector de retorno mensual medio sería <span class="math inline">\(r=\begin{bmatrix} 0.02 &amp; 0.03 \end{bmatrix}\)</span>.</p></li>
<li><p>A matriz de covarianza C utilizaríase como matriz D en DASM.</p></li>
<li><p>A restrición <span class="math inline">\(w_{1}+w_{2}=1\)</span> pódese escribir en forma de matriz como <span class="math inline">\(\begin{bmatrix} 1 &amp; 1 \end{bmatrix} \begin{bmatrix} w_1 \\ w_2 \end{bmatrix}= 1\)</span> . Esta sería a primeira fila da matriz <span class="math inline">\(A\)</span> en DASM.</p></li>
<li><p>O requisito mínimo de retorno <span class="math inline">\(w_{1}\mathbb{E} + w_{2}\mathbb{E} \geq{0,005}\)</span> pódese escribir en forma de matriz como <span class="math inline">\(\begin{bmatrix} 0,02 &amp; 0,03 \end{bmatrix} \begin{bmatrix} w_1 \\ w_2 \end{bmatrix} \geq{0,005}\)</span>. Esta sería outra fila da matriz <span class="math inline">\(A\)</span> en DASM.</p></li>
<li><p>As restricións <span class="math inline">\(0\leq{w_i}\leq{1}\)</span> pódense escribir en forma de matriz como <span class="math inline">\(\begin{bmatrix} 1 &amp; 0 \end{bmatrix} \begin{bmatrix} w_1 \\ w_2 \end{bmatrix} \geq{0}\)</span> e <span class="math inline">\(\begin{bmatrix} 0 &amp; 1 \end{bmatrix} \begin{bmatrix} w_1 \\ w_2 \end{bmatrix} \geq{0}\)</span> para os límites inferiores e <span class="math inline">\(\begin{bmatrix} -1 &amp; 0 \end{bmatrix} \begin{bmatrix} w_1 \\ w_2 \end{bmatrix} \geq{-1}\)</span> e <span class="math inline">\(\begin{bmatrix} 0 &amp; -1 \end{bmatrix} \begin{bmatrix} w_1 \\ w_2 \end{bmatrix} \geq{-1}\)</span> para os límites superiores.</p></li>
<li><p>A matriz <span class="math inline">\(A\)</span> sería así: <span class="math inline">\(A=\begin{bmatrix} 1 &amp; 1 \\ 0.02 &amp; 0.03 \\ 1 &amp; 0 \\ 0 &amp; 1 \\ -1 &amp; 0 \\ 0 &amp; -1 \end{bmatrix}\)</span></p></li>
</ul>
<p>O vector correspondente <span class="math inline">\(b\)</span> sería <span class="math inline">\(\begin{bmatrix} 1 &amp; 0,005 &amp; 0 &amp; 0 &amp; -1 &amp; -1\end{bmatrix}\)</span>. Despois podemos usar o algoritmo DASM para resolver este problema de programación cuadrática e determinar a asignación óptima de activos na nosa carteira.</p>
<p>Paso 0: atopar o mínimo sen restricións resolvendo o problema de programación cuadrática sen restricións. Establece o número de elementos do conxunto activo A (conxunto baleiro) en cero.</p>
<p>Paso 1: Escolla unha restrición violada, se a houbera. Neste caso, supoña que se infrinxe a restrición <span class="math inline">\(w_{1}+w_{2}=1\)</span>.</p>
<p>Paso 2: Calcula as direccións do paso primario e dobre e a lonxitude do paso <span class="math inline">\(t=min(t_{1},t_{2})\)</span>. Supoña <span class="math inline">\(t=t_{2}\)</span>.</p>
<p>Paso 3: intensifica e actualiza o conxunto activo A e a solución (<span class="math inline">\(S\)</span>) para o par (x, A). Dado que <span class="math inline">\(t=t_{2}\)</span> , engadimos a restrición pth (neste caso <span class="math inline">\(w_1+w_2=1\)</span>) a <span class="math inline">\(\bar{N}\)</span> e actualizamos <span class="math inline">\(H\)</span> e <span class="math inline">\(N^{*}\)</span> en <a href="#eq-consup">Ecuación&nbsp;<span>2</span></a>.</p>
<p><span id="eq-consup"><span class="math display">\[
\begin{aligned}
N^{*}=(\bar{N}^{T}Q^{-1}\bar{N})\bar{N}^{T}Q^{-1}\\
H=Q^{-1}(I-\bar{N}N^{*})
\end{aligned}
\tag{2}\]</span></span></p>
<p>Onde:</p>
<div class="margin">
<p><span class="math inline">\(N^{*}\)</span> é a inversa pseudo-inversa ou xeralizada de Moore-Penrose <span class="math inline">\(\bar{N}\)</span>.</p>
</div>
<div class="margin">
<p><span class="math inline">\(\bar{N}\)</span> é a matriz dos vectores normais das restricións no conxunto activo <span class="math inline">\(A\)</span>.</p>
</div>
<div class="margin">
<p><span class="math inline">\(H\)</span> é o operador de Hessian inverso reducido de <span class="math inline">\(Q\)</span>.</p>
</div>
<p>Estes pasos repítense de forma iterativa ata que se cumpran todas as restricións e se determine a asignación óptima de activos.</p>


<div id="refs" class="references csl-bib-body hanging-indent" role="list" style="display: none">
<div id="ref-Zhi08" class="csl-entry" role="listitem">
Aijun Zhang &amp; Chun-hung Li &amp; Agus Sudjianto, Zhi-li Wu &amp;. 2008. <span>“Trace Solution Paths for SVMs via Parametric Quadratic Programming.”</span> Researchgate. 2008. <a href="https://www.researchgate.net/publication/228577955_Trace_solution_paths_for_SVMs_via_parametric_quadratic_programming">https://www.researchgate.net/publication/228577955_Trace_solution_paths_for_SVMs_via_parametric_quadratic_programming</a>.
</div>
<div id="ref-beale1959" class="csl-entry" role="listitem">
Beale, EML. 1959. <span>“On Quadratic Proramming.”</span> <em>Naval Research Logistics Quarterly</em> 6 (3): 227–43.
</div>
<div id="ref-bunch1977" class="csl-entry" role="listitem">
Bunch, James R, and Linda Kaufman. 1977. <span>“Some Stable Methods for Calculating Inertia and Solving Symmetric Linear Systems.”</span> <em>Mathematics of Computation</em> 31 (137): 163–79.
</div>
<div id="ref-cai2004minimax" class="csl-entry" role="listitem">
Cai, Xiaoqiang, Kok Lay Teo, XQ Yang, and Xun Yu Zhou. 2004. <span>“Minimax Portfolio Optimization: Empirical Numerical Study.”</span> <em>Journal of the Operational Research Society</em> 55 (1): 65–72.
</div>
<div id="ref-drucker1996linear" class="csl-entry" role="listitem">
Drucker, Harris, Christopher Burges, Linda Kaufman, Alex Smola, and Vladimir Vapnik. 1996. <span>“Linear Support Vector Regression Machines.”</span> <em>Advances in Neural Information Processing Systems</em> 9 (9): 155–61.
</div>
<div id="ref-fletcher1971" class="csl-entry" role="listitem">
Fletcher, Roger. 1971. <span>“A General Quadratic Programming Algorithm.”</span> <em>IMA Journal of Applied Mathematics</em> 7 (1): 76–91.
</div>
<div id="ref-Goldfarb1982ANS" class="csl-entry" role="listitem">
Goldfarb, Donald, and Ashok U. Idnani. 1982. <span>“Dual and Primal-Dual Methods for Solving Strictly Convex Quadratic Programs.”</span> In <em>Numerical Analysis</em>, edited by J. P. Hennart, 226–39. Berlin, Heidelberg: Springer Berlin Heidelberg.
</div>
<div id="ref-Goldfarb1983ANS" class="csl-entry" role="listitem">
———. 1983. <span>“A Numerically Stable Dual Method for Solving Strictly Convex Quadratic Programs.”</span> <em>Mathematical Programming</em> 27: 1–33.
</div>
<div id="ref-GOSWAMI2012620" class="csl-entry" role="listitem">
Goswami, Nababithi, Supriyo K. Mondal, and Swapan Paruya. 2012. <span>“A Comparative Study of Dual Active-Set and Primal-Dual Interior-Point Method.”</span> <em>IFAC Proceedings Volumes</em> 45 (15): 620–25. https://doi.org/<a href="https://doi.org/10.3182/20120710-4-SG-2026.00029">https://doi.org/10.3182/20120710-4-SG-2026.00029</a>.
</div>
<div id="ref-Gunjan2023" class="csl-entry" role="listitem">
Gunjan, Siddhartha, Abhishek &amp; Bhattacharyya. 2023. <span>“<span class="nocase">A brief review of portfolio optimization techniques</span>.”</span> <em>Artificial Intelligence Review</em> 56 (5): 3847–86. <a href="https://doi.org/10.1007/s10462-022-10273-7">https://doi.org/10.1007/s10462-022-10273-7</a>.
</div>
<div id="ref-hestenes1969" class="csl-entry" role="listitem">
Hestenes, Magnus R. 1969. <span>“Multiplier and Gradient Methods.”</span> <em>Journal of Optimization Theory and Applications</em> 4 (5): 303–20.
</div>
<div id="ref-Hestenes1952" class="csl-entry" role="listitem">
Hestenes, Magnus R., and Eduard Stiefel. 1952. <span>“Methods of Conjugate Gradients for Solving Linear Systems.”</span> <em>Journal of Research of the National Bureau of Standards</em> 49: 409–35.
</div>
<div id="ref-jorion2007" class="csl-entry" role="listitem">
Jorion, Philippe. 2007. <em>Value at Risk: The New Benchmark for Managing Financial Risk</em>. The McGraw-Hill Companies, Inc.
</div>
<div id="ref-karmarkar1984" class="csl-entry" role="listitem">
Karmarkar, Narendra. 1984. <span>“A New Polynomial-Time Algorithm for Linear Programming.”</span> In <em>Proceedings of the Sixteenth Annual ACM Symposium on Theory of Computing</em>, 302–11.
</div>
<div id="ref-konno1991" class="csl-entry" role="listitem">
Konno, Hiroshi, and Hiroaki Yamazaki. 1991. <span>“Mean-Absolute Deviation Portfolio Optimization Model and Its Applications to Tokyo Stock Market.”</span> <em>Management Science</em> 37 (5): 519–31.
</div>
<div id="ref-markowitz1967" class="csl-entry" role="listitem">
Markowitz, Harry M, and Harry M Markowitz. 1967. <em>Portfolio Selection: Efficient Diversification of Investments</em>. J. Wiley.
</div>
<div id="ref-powell1969" class="csl-entry" role="listitem">
Powell, Michael JD. 1969. <span>“A Method for Nonlinear Constraints in Minimization Problems.”</span> <em>Optimization</em>, 283–98.
</div>
<div id="ref-rockafellar2002" class="csl-entry" role="listitem">
Rockafellar, R Tyrrell, and Stanislav Uryasev. 2002. <span>“Conditional Value-at-Risk for General Loss Distributions.”</span> <em>Journal of Banking &amp; Finance</em> 26 (7): 1443–71.
</div>
<div id="ref-rosen1961" class="csl-entry" role="listitem">
Rosen, JB. 1961. <span>“The Gradient Projection Method for Nonlinear Programming. Part II. Nonlinear Constraints.”</span> <em>Journal of the Society for Industrial and Applied Mathematics</em> 9 (4): 514–32.
</div>
<div id="ref-rosen1960" class="csl-entry" role="listitem">
Rosen, Jo Bo. 1960. <span>“The Gradient Projection Method for Nonlinear Programming. Part i. Linear Constraints.”</span> <em>Journal of the Society for Industrial and Applied Mathematics</em> 8 (1): 181–217.
</div>
<div id="ref-samuelson1970" class="csl-entry" role="listitem">
Samuelson, Paul A. 1970. <span>“The Fundamental Approximation Theorem of Portfolio Analysis in Terms of Means, Variances and Higher Moments.”</span> <em>The Review of Economic Studies</em> 37 (4): 537–42.
</div>
<div id="ref-shenoy2000bayesian" class="csl-entry" role="listitem">
Shenoy, Catherine, and Prakash P Shenoy. 2000. <span>“Bayesian Network Models of Portfolio Risk and Return.”</span> In. The MIT Press.
</div>
<div id="ref-sutton2018reinforcement" class="csl-entry" role="listitem">
Sutton, Richard S, and Andrew G Barto. 2018. <em>Reinforcement Learning: An Introduction</em>. MIT press.
</div>
<div id="ref-rwalk14" class="csl-entry" role="listitem">
Walker, Ryan. 2014. <span>“Solving Quadratic Progams with r’s Quadprog Package.”</span> rwalk. 2014. <a href="https://rwalk.xyz/solving-quadratic-progams-with-rs-quadprog-package/">https://rwalk.xyz/solving-quadratic-progams-with-rs-quadprog-package/</a>.
</div>
</div>
</section>

</main> <!-- /main -->
<script type="text/javascript">

  const elementWithauthor = document.querySelector('.quarto-title-meta-author');
  
  if(elementWithauthor){
    
    //Ad more description in title banner
    let TFMtitle = document.getElementById('title-block-header');
    let TFMtitlefc = TFMtitle.firstElementChild;
    let TFMtitlefcfc = TFMtitlefc.firstElementChild;
    const sublead = document.createElement('p');
      sublead.className = 'subtitle lead';
      sublead.id = 'sublead';
      sublead.textContent = "Máster Universitario en Banca e Finanzas Curso académico 2022/2023";
    const sub_sublead = document.createElement('p');
      sub_sublead.className = 'subtitle lead';
      sub_sublead.id='sub_sublead';
      sub_sublead.textContent = "Traballo Fin de Máster presentado na Facultade de Economía e Empresa da Universidade da Coruña para a obtención do Máster Universitario en Banca e Finanzas";
    const udclogo = document.createElement('p');
      udclogo.innerHTML='<img src="../udclogo.png" style="width: 25%;">'
    TFMtitlefcfc.appendChild(sublead);
    TFMtitlefcfc.appendChild(sub_sublead);
    TFMtitlefcfc.appendChild(udclogo);
    
    //Fix authoring info
    const authorsElement = document.querySelector('.quarto-title-meta-heading');
    authorsElement.textContent = "AUTOR";
    const authorsInfo = authorsElement.parentElement;
    const tutorname = authorsElement.cloneNode(true);
    tutorname.textContent = "TITOR";
    tutorname.style.marginTop = '0';
    const tutorafili = tutorname.cloneNode(true);
    tutorafili.textContent = "";
    authorsInfo.insertBefore(tutorafili, authorsInfo.children[4]);
    authorsInfo.insertBefore(tutorname, authorsInfo.children[4]);
    
  }else{
    let TFMtitle = document.getElementById('title-block-header');
    let TFMtitlefc = TFMtitle.firstElementChild;
    let TFMtitlefcfc = TFMtitlefc.firstElementChild;
    const sub_sublead = document.createElement('p');
      sub_sublead.className = 'subtitle lead';
      sub_sublead.id='sub_sublead';
      sub_sublead.textContent = 'Aplicación das redes neuronais artificiais e da programación cuadrática na xestión de carteiras';
    TFMtitlefcfc.appendChild(sub_sublead);
    
    
    
  }
</script>

<script>

// Read the HTML content from a file
async function readHTMLFile(filePath) {
  try {
    const response = await fetch(filePath);
    const htmlContent = await response.text();
    return htmlContent;
  } catch (error) {
    console.error('Error reading HTML file:', error);
    return null;
  }
}

// Main function to process the HTML file
async function processHtmlFile(filePath, patternToMatch, patternToReplace, replacement) {
  const htmlContent = await readHTMLFile(filePath);
  const idsToSearch = [];

  if (htmlContent) {
    const parser = new DOMParser();
    const doc = parser.parseFromString(htmlContent, 'text/html');

    const elementsWithMatchingIds = Array.from(doc.querySelectorAll('[id^="' + patternToMatch + '"]'));
    elementsWithMatchingIds.forEach(element => {
      const id = element.getAttribute('id');
      idsToSearch.push(id);
    });
  }

  const anchorElements = Array.from(document.querySelectorAll('a'));

  anchorElements.forEach(anchorElement => {
    const href = anchorElement.getAttribute('href');
    if (idsToSearch.some(id => href && href.endsWith(id))) {
      anchorElement.innerHTML = anchorElement.innerHTML.replace(patternToReplace, replacement);
    }
  });
}


const filePath = 'Annex2.html'; 
const patternToMatch = 'fig-'; 
const patternToReplace = 'Figura&nbsp;';
const replacement = 'Gráfico ';

processHtmlFile(filePath, patternToMatch, patternToReplace, replacement);
  
</script>
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copiouse!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copiouse!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="./ANNinTSF.html" class="pagination-link">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text">2.2 Redes neuronais artificiais na previsión de series temporais</span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="./Data.html" class="pagination-link">
        <span class="nav-page-text">2.4 Datos</span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">Traballo Fin de Máster presentado en <a href="https://fee.udc.es/"><img src="../feelogo.png" class="img-fluid" alt="FEE" width="65"></a> <a href="https://www.udc.es/"><img src="../udclogo.png" class="img-fluid" alt="UDC" width="65"></a></div>   
    <div class="nav-footer-center">
      <ul class="footer-items list-unstyled">
    <li class="nav-item">
 David Díaz Rodríguez
  </li>  
</ul>
    </div>
    <div class="nav-footer-right">
      <ul class="footer-items list-unstyled">
    <li class="nav-item compact">
    <a class="nav-link" href="https://www.linkedin.com/in/david-d-6257951b8/">
      <i class="bi bi-linkedin" role="img" aria-label="Linkedin">
</i> 
    </a>
  </li>  
    <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/davidrsch/TFM/">
      <i class="bi bi-github" role="img" aria-label="TFM GitHub">
</i> 
    </a>
  </li>  
</ul>
    </div>
  </div>
</footer>



</body></html>