<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.450">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Final Master’s Project - 2.3 Portfolio composition</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for citations */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
}
.hanging-indent div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./Data.html" rel="next">
<link href="./ANNinTSF.html" rel="prev">
<link href="./../icologo.png" rel="icon" type="image/png">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<style>

      .quarto-title-block .quarto-title-banner {
        background: #D60D8C;
      }
</style>

  <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<link rel="stylesheet" href="../my_style.css">
</head>

<body class="nav-sidebar floating">


<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
      <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./body.html">2 Work development</a></li><li class="breadcrumb-item"><a href="./PC.html">2.3 Portfolio composition</a></li></ol></nav>
      <a class="flex-grow-1" role="button" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
      </a>
      <button type="button" class="btn quarto-search-button" aria-label="" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<header id="title-block-header" class="quarto-title-block default page-columns page-full">
  <div class="quarto-title-banner page-columns page-full">
    <div class="quarto-title column-body">
      <h1 class="title">2.3 Portfolio composition</h1>
                      </div>
  </div>
    
  
  <div class="quarto-title-meta">

      
    
      
    </div>
    
  
  </header><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal sidebar-navigation floating overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="./">Final Master’s Project</a> 
        <div class="sidebar-tools-main tools-wide">
    <div class="dropdown">
      <a href="" title="" id="quarto-navigation-tool-dropdown-0" class="quarto-navigation-tool dropdown-toggle px-1" data-bs-toggle="dropdown" aria-expanded="false" aria-label=""><i class="bi bi-translate"></i></a>
      <ul class="dropdown-menu" aria-labelledby="quarto-navigation-tool-dropdown-0">
          <li>
            <a class="dropdown-item sidebar-tools-main-item" href="./../index.html">
            Español
            </a>
          </li>
          <li>
            <a class="dropdown-item sidebar-tools-main-item" href="./../gal/index.html">
            Galego
            </a>
          </li>
      </ul>
    </div>
    <a href="https://github.com/davidrsch/TFM" rel="" title="Source Code" class="quarto-navigation-tool px-1" aria-label="Source Code"><i class="bi bi-github"></i></a>
    <a href="https://twitter.com/intent/tweet?url=|url|" rel="" title="Twitter" class="quarto-navigation-tool px-1" aria-label="Twitter"><i class="bi bi-twitter"></i></a>
</div>
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Description</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./greetings.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Thanks</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./summaryen.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Abstract</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./summaryes.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Resumen</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./summarygal.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Resumo</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./intro.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">1 Introduction</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="./body.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">2 Work development</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./FSandP.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">2.1 Characterization of financial time series</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./ANNinTSF.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">2.2 Artificial neural networks in the forecast of time series</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./PC.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text">2.3 Portfolio composition</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Data.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">2.4 Data</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./MandT.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">2.5 Modeling and training</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Results.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">2.6 Result</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./conclusions.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">3 Conclusions</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./references.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Bibliography</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" aria-expanded="false">
 <span class="menu-text">Annex</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Annex1.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Annex. 1 Figures</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Annex2.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Annex. 2 Graphics</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Annex3.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Annex. 3 Tables</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Annex4.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Annex. 4 Codes</span></a>
  </div>
</li>
      </ul>
  </li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#problem-and-techniques" id="toc-problem-and-techniques" class="nav-link active" data-scroll-target="#problem-and-techniques">2.3.1 Problem and techniques</a></li>
  <li><a href="#quadratic-programming" id="toc-quadratic-programming" class="nav-link" data-scroll-target="#quadratic-programming">2.3.1 Quadratic programming</a></li>
  </ul>
<div class="toc-actions"><div><i class="bi bi-github"></i></div><div class="action-links"><p><a href="https://github.com/davidrsch/TFM/edit/main/PC.qmd" class="toc-action">Edit this page</a></p></div></div></nav>
    </div>
<!-- main -->
<main class="content quarto-banner-title-block" id="quarto-document-content">




<p>In this section, the problem of finding the best possible portfolio composition is exposed and the theory behind the objectives to solve it is explained in a general way. In addition, the most used techniques will be listed, differentiating between classical approaches and intelligent approaches. Subsequently, what is quadratic programming will be explained and some techniques within this discipline of mathematical optimization will be mentioned. It will be shown how the portfolio optimization problem can be described as a quadratic programming problem. In addition, a brief explanation of the Dual Active Set Method will be provided, a technique widely used in this discipline, and which will be used in the following chapters.</p>
<section id="problem-and-techniques" class="level2">
<h2 class="anchored" data-anchor-id="problem-and-techniques">2.3.1 Problem and techniques</h2>
<p>As <span class="citation" data-cites="Gunjan2023">Gunjan (<a href="#ref-Gunjan2023" role="doc-biblioref">2023</a>)</span> explains, portfolio optimization is the process of selecting the best mix of assets to hold in a portfolio based on pre-defined objectives. The objectives can be the maximization of return or the minimization of risk, or both. Portfolio optimization involves finding the optimal weights for each asset in the portfolio so that the overall portfolio meets the desired objectives. This can be a challenging problem due to the large number of assets to choose from and the complex relationships between them.</p>
<p>Portfolio optimization is an important process for investors as it helps them minimize risk and maximize return on their investments. By carefully selecting the assets to hold in their portfolio, investors can achieve their desired level of risk and return while diversifying their investments to reduce overall risk. Portfolio optimization is a crucial mechanism used to reduce investment risk.</p>
<p>There are various techniques that can be used to solve the portfolio optimization problem. In <span class="citation" data-cites="Gunjan2023">Gunjan (<a href="#ref-Gunjan2023" role="doc-biblioref">2023</a>)</span> these techniques are classified into two categories: classical approaches and intelligent approaches. Below is a general explanation of some of the techniques belonging to each approach.</p>
<p>Classical approaches:</p>
<ul>
<li><p>Mean-variance: This technique, proposed in <span class="citation" data-cites="markowitz1967">Markowitz and Markowitz (<a href="#ref-markowitz1967" role="doc-biblioref">1967</a>)</span>, is based on the idea of minimizing the variance for a given expected return or maximizing the expected return for a given variance. It is a parametric quadratic programming (hereinafter PQP) technique that can be used to solve quadratic optimization problems that arise in portfolio optimization (<span class="citation" data-cites="Zhi08">Aijun Zhang &amp; Chun-hung Li &amp; Agus Sudjianto (<a href="#ref-Zhi08" role="doc-biblioref">2008</a>)</span>). The mean variance approach assumes that investors are risk averse and prefer portfolios with lower variance. The technique consists of constructing a portfolio frontier that represents the set of portfolios that offer the highest expected return for a given level of risk. The optimal portfolio from this frontier is then selected based on the investor’s risk preferences.</p></li>
<li><p>Skewed variance: This technique extends the mean-variance approach by accounting for skewed distribution. It was proposed in <span class="citation" data-cites="samuelson1970">Samuelson (<a href="#ref-samuelson1970" role="doc-biblioref">1970</a>)</span> and can be used when the distribution function is not quadratic in nature. Skewness measures the skewness of a distribution and can provide additional information about the potential risks and returns of a portfolio. By incorporating asymmetry into the portfolio optimization process, investors can better understand potential downside risks and make more informed decisions.</p></li>
<li><p>Value at Risk (VaR): This statistical approach measures the potential loss in value of a portfolio over a defined period for a given confidence interval. It was introduced in the first edition of <span class="citation" data-cites="jorion2007">Jorion (<a href="#ref-jorion2007" role="doc-biblioref">2007</a>)</span> in 1997 and requires the determination of three parameters: time period, confidence level, and value-at-risk unit. VaR provides a measure of the maximum potential loss that could occur with a given probability in a specified time horizon. It is commonly used by financial institutions to manage their risk exposure and comply with regulatory requirements.</p></li>
<li><p>Conditional Value-at-Risk (CVaR): This approach widens the VaR by considering the expected loss that exceeds the VaR. It was introduced in <span class="citation" data-cites="rockafellar2002">Rockafellar and Uryasev (<a href="#ref-rockafellar2002" role="doc-biblioref">2002</a>)</span> and can handle extreme losses by using dynamic weights derived from historical data. CVaR provides a measure of the expected loss that could occur beyond the VaR threshold. It is also known as Expected Shortfall (ES) or Tail Value-at-Risk (TVaR) and is considered a more consistent measure of risk than VaR.</p></li>
<li><p>Mean-Absolute Deviation (MAD): This technique can be used for large-scale and highly diversified portfolio selection problems. It was introduced in <span class="citation" data-cites="konno1991">Konno and Yamazaki (<a href="#ref-konno1991" role="doc-biblioref">1991</a>)</span> and penalizes both positive and negative deviations. MAD provides a measure of the average absolute deviation of portfolio returns from their mean value. It is considered more robust than variance-based measures, as it is less sensitive to outliers.</p></li>
<li><p>Minimax: This technique uses the minimum return as a measure of risk. It was introduced in <span class="citation" data-cites="cai2004minimax">Cai et al. (<a href="#ref-cai2004minimax" role="doc-biblioref">2004</a>)</span> and has certain advantages when the returns are not normally distributed. Minimax provides a worst-case measure for a portfolio by minimizing the maximum potential loss that could occur. It can be useful for investors who are particularly concerned about downside risks.</p></li>
</ul>
<p>Smart approaches:</p>
<ul>
<li><p>Bayesian Networks: These probabilistic graphical models can be used to model risk and return. They were featured on <span class="citation" data-cites="shenoy2000bayesian">Shenoy and Shenoy (<a href="#ref-shenoy2000bayesian" role="doc-biblioref">2000</a>)</span> and can be used to visualize the relationship between different variables in a model. Bayesian networks provide a way to represent complex dependencies between variables using directed acyclic graphs (DAGs). They can be used to model uncertain relationships between variables and to make probabilistic predictions about future events. In the context of portfolio management, Bayesian networks can be used to model relationships between different assets and make predictions about their future returns based on historical data and other relevant information.</p></li>
<li><p>Support Vector Regression (SVR): This machine learning technique can be used to determine the amount to buy and sell. It was introduced by <span class="citation" data-cites="drucker1996linear">Drucker et al. (<a href="#ref-drucker1996linear" role="doc-biblioref">1996</a>)</span> and has certain advantages over statistical-based techniques, such as its ability to learn from historical data. SVR involves building a hyperplane that separates data points with different labels while maximizing the margin between them. It can be used for regression tasks where the goal is to predict continuous values ​​instead of discrete labels. In the context of portfolio management, SVR can be used to predict future asset prices based on historical data and other relevant information.</p></li>
<li><p>Artificial neural networks: As explained previously, these computational models can be used to solve complex computational and learning problems. In the context of portfolio management, neural networks can be used to predict future asset prices or returns based on historical data and other relevant information, which is what they are used for in this paper.</p></li>
<li><p>Reinforcement Learning: This type of machine learning involves an agent or model interacting with its environment to learn from its actions. It was featured in <span class="citation" data-cites="sutton2018reinforcement">Sutton and Barto (<a href="#ref-sutton2018reinforcement" role="doc-biblioref">2018</a>)</span> and works to maximize agent reward. Reinforcement learning involves learning through trial and error interactions with an environment. The agent takes actions based on its current state and receives rewards or penalties based on the results of those actions. Over time, the agent learns to take actions that maximize his accumulated reward. In the context of portfolio management, reinforcement learning can be used to develop trading strategies that maximize returns while managing risk.</p></li>
</ul>
</section>
<section id="quadratic-programming" class="level2">
<h2 class="anchored" data-anchor-id="quadratic-programming">2.3.1 Quadratic programming</h2>
<p>This sub-heading explains what quadratic programming is. What are some of the techniques that exist within this discipline of mathematical optimization. It also exposes how the portfolio optimization problem can be described as a quadratic programming problem and briefly explains how one of the most used techniques in this discipline works, specifically the so-called Dual Active Set Method, which is used in the later chapters.</p>
<p>Quadratic programming can be chosen from among the techniques listed in the previous subheading for several reasons. First, it is a well-established technique that has been widely used in portfolio optimization. It can handle complex optimization problems with multiple constraints and can provide an efficient and effective way to solve the portfolio optimization problem. This makes it a useful tool for investors looking to minimize risk while achieving the desired level of return. Finally, quadratic programming has a solid theoretical foundation and has been widely studied in the literature. This makes it a reliable and well-understood technique that can be used with confidence in portfolio optimization.</p>
<p>There are several quadratic programming techniques, among the most used are:</p>
<ul>
<li><p>Interior Point: This is a linear or nonlinear programming method that achieves optimization by going through the center of the solid defined by the problem instead of around its surface. A polynomial time linear programming algorithm using an interior point method was found by <span class="citation" data-cites="karmarkar1984">Karmarkar (<a href="#ref-karmarkar1984" role="doc-biblioref">1984</a>)</span>.</p></li>
<li><p>Active Set: This is an algorithm used to identify the active constraints in a set of inequality constraints. The active constraints are then expressed as equality constraints, thus transforming an inequality constrained problem into a simpler equality constrained subproblem. The active set method was first introduced in an article by <span class="citation" data-cites="beale1959">Beale (<a href="#ref-beale1959" role="doc-biblioref">1959</a>)</span> and developed by <span class="citation" data-cites="fletcher1971">Fletcher (<a href="#ref-fletcher1971" role="doc-biblioref">1971</a>)</span> and <span class="citation" data-cites="bunch1977">Bunch and Kaufman (<a href="#ref-bunch1977" role="doc-biblioref">1977</a>)</span>.</p></li>
<li><p>Dual Active Set: The method, as exposed by <span class="citation" data-cites="Goldfarb1982ANS">Goldfarb and Idnani (<a href="#ref-Goldfarb1982ANS" role="doc-biblioref">1982</a>)</span> and <span class="citation" data-cites="Goldfarb1983ANS">Goldfarb and Idnani (<a href="#ref-Goldfarb1983ANS" role="doc-biblioref">1983</a>)</span>, is an efficient and numerically stable dual algorithm for positive definite quadratic programming that takes advantage of the fact that the unrestricted minimum of the objective function can be used as a point of departure.</p></li>
<li><p>Augmented Lagrangian: It was independently introduced in <span class="citation" data-cites="hestenes1969">Magnus R. Hestenes (<a href="#ref-hestenes1969" role="doc-biblioref">1969</a>)</span> and <span class="citation" data-cites="powell1969">Powell (<a href="#ref-powell1969" role="doc-biblioref">1969</a>)</span>. It is used to solve constrained optimization problems by adding a penalty term to the objective function that penalizes any violation of the constraints. The penalty term is typically a multiple of a constraint violation measure, such as the sum of squared constraint violations.</p></li>
<li><p>Conjugate Gradient: This is an iterative method for solving systems of linear equations with a symmetric positive definite matrix. It can also be used to solve unrestricted optimization problems by finding the minimum of a quadratic function. The method generates a sequence of search addresses that are conjugated with respect to the matrix that defines the system of equations or quadratic function. The conjugate gradient method was originally introduced in an article by <span class="citation" data-cites="Hestenes1952">Magnus R. Hestenes and Stiefel (<a href="#ref-Hestenes1952" role="doc-biblioref">1952</a>)</span>.</p></li>
<li><p>Gradient Projection: The gradient projection method was introduced in <span class="citation" data-cites="rosen1960">J. B. Rosen (<a href="#ref-rosen1960" role="doc-biblioref">1960</a>)</span> and <span class="citation" data-cites="rosen1961">J. Rosen (<a href="#ref-rosen1961" role="doc-biblioref">1961</a>)</span>. This is an iterative method for solving constrained optimization problems by projecting the gradient into the feasible region at each iteration. The projected gradient is then used as the search direction, and a line search is performed along this direction to find a new iteration that satisfies the constraints and reduces the objective function.</p></li>
</ul>
<p>From the previously mentioned techniques, the Dual Active Set Method algorithm (hereinafter, DASM) was selected, which, as previously mentioned, was introduced in <span class="citation" data-cites="Goldfarb1982ANS">Goldfarb and Idnani (<a href="#ref-Goldfarb1982ANS" role="doc-biblioref">1982</a>)</span> and <span class="citation" data-cites="Goldfarb1983ANS">Goldfarb and Idnani (<a href="#ref-Goldfarb1983ANS" role="doc-biblioref">1983</a>)</span>, it is an optimization algorithm to solve quadratic programming problems. The algorithm predicts the active set of constraints that are equally satisfied in the solution of the problem. Computes a sequence of optimal solutions of QP problems involving some of the constraints of the original problem, called a sequence of dual feasible points.</p>
<p>Below is a general example of how the DASM algorithm could work using what-if values for a 2-asset portfolio optimization problem, the example was built from <span class="citation" data-cites="GOSWAMI2012620">Goswami, Mondal, and Paruya (<a href="#ref-GOSWAMI2012620" role="doc-biblioref">2012</a>)</span> and <span class="citation" data-cites="rwalk14">Walker (<a href="#ref-rwalk14" role="doc-biblioref">2014</a>)</span>:</p>
<p>Under the assumption that it is about finding the best composition of a portfolio in which, for simplicity, we have 2 assets, the quadratic problem would be posed as follows <a href="#eq-qpop">Equation&nbsp;<span class="quarto-unresolved-ref">eq-qpop</span></a>:</p>
<p><span id="eq-qpop"><span class="math display">\[
\begin{aligned}
min~~Q(\vec{w}) &amp;= \vec{w}^TC\vec{w}\\
subject~to:\\
w_{1}+w_{2}=1\\
0\leq{w_{i}}\leq{1}\\
w_{1}\mathbb{E} + w_{2}\mathbb{E} \geq{0.005}
\end{aligned}
\tag{1}\]</span></span></p>
<p>Assuming that they have average monthly returns <span class="math inline">\(r=\begin{bmatrix} 0.02 &amp; 0.03 \end{bmatrix}\)</span> and covariance matrix <span class="math inline">\(C=\begin{bmatrix} 0.001 &amp; 0.0008 \\ 0.0008 &amp; 0.002 \end{bmatrix}\)</span> . The vectors and matrices needed for the DASM algorithm can be constructed as follows:</p>
<ul>
<li><p>The average monthly return vector would be <span class="math inline">\(r=\begin{bmatrix} 0.02 &amp; 0.03 \end{bmatrix}\)</span>.</p></li>
<li><p>The covariance matrix C would be used as the matrix D in DASM.</p></li>
<li><p>The constraint <span class="math inline">\(w_{1}+w_{2}=1\)</span> can be written in matrix form as <span class="math inline">\(\begin{bmatrix} 1 &amp; 1 \end{bmatrix}\begin{bmatrix} w_1 \\ w_2 \end{bmatrix}=1\)</span>. This would be the first row of the <span class="math inline">\(A\)</span> array in DASM.</p></li>
<li><p>The minimum return requirement <span class="math inline">\(w_{1}\mathbb{E} + w_{2}\mathbb{E} \geq{0.005}\)</span> can be written in matrix form as <span class="math inline">\(\begin{bmatrix} 0.02 &amp; 0.03 \end{bmatrix}\begin{bmatrix} w_1 \\ w_2 \end{bmatrix}\geq{0.005}\)</span>. This would be another row of the <span class="math inline">\(A\)</span> array in DASM.</p></li>
<li><p>The constraints <span class="math inline">\(0\leq{w_i}\leq{1}\)</span> can be written in matrix form as <span class="math inline">\(\begin{bmatrix} 1 &amp; 0 \end{bmatrix} \begin{bmatrix} w_1 \\ w_2 \end{bmatrix} \geq{0}\)</span> and <span class="math inline">\(\begin{bmatrix} 0 &amp; 1 \end{bmatrix} \begin{bmatrix} w_1 \\ w_2 \end{bmatrix} \geq{0}\)</span> for lower bounds and <span class="math inline">\(\begin{bmatrix} -1 &amp; 0 \end{bmatrix} \begin{bmatrix} w_1 \\ w_2 \end{bmatrix} \geq{-1}\)</span> and <span class="math inline">\(\begin{bmatrix} 0 &amp; -1 \end{bmatrix} \begin{bmatrix} w_1 \\ w_2 \end{bmatrix} \geq{-1}\)</span> for upper bounds.</p></li>
<li><p>The matrix <span class="math inline">\(A\)</span> would look like this: <span class="math inline">\(A=\begin{bmatrix} 1 &amp; 1 \\ 0.02 &amp; 0.03 \\ 1 &amp; 0 \\ 0 &amp; 1 \\ -1 &amp; 0 \\ 0 &amp; -1 \end{bmatrix}\)</span></p></li>
</ul>
<p>The corresponding vector <span class="math inline">\(b\)</span> would be <span class="math inline">\(\begin{bmatrix} 1 &amp; 0.005 &amp; 0 &amp; 0 &amp; -1 &amp; -1\end{bmatrix}\)</span>. We can then use the DASM algorithm to solve this quadratic programming problem and determine the optimal asset allocation in our portfolio.</p>
<p>Step 0: Find the unrestricted minimum by solving the unrestricted quadratic programming problem. Set the number of elements in the active set A (empty set) to zero.</p>
<p>Step 1: Choose a violated constraint, if any. In this case, suppose that the constraint <span class="math inline">\(w_{1}+w_{2}=1\)</span> is violated.</p>
<p>Step 2: Calculate the primary and dual step directions and the step length <span class="math inline">\(t=min(t_{1},t_{2})\)</span>. Suppose <span class="math inline">\(t=t_{2}\)</span>.</p>
<p>Step 3: Step up and update the active set A and the solution (<span class="math inline">\(S\)</span>) for pair (x, A). Since <span class="math inline">\(t=t_{2}\)</span> , we add the pth constraint (in this case <span class="math inline">\(w_1+w_2=1\)</span>) to <span class="math inline">\(\bar{N}\)</span> and update <span class="math inline">\(H\)</span> and <span class="math inline">\(N^{*}\)</span> in <a href="#eq-consup">Equation&nbsp;<span class="quarto-unresolved-ref">eq-consup</span></a>.</p>
<p><span id="eq-consup"><span class="math display">\[
\begin{aligned}
N^{*}=(\bar{N}^{T}Q^{-1}\bar{N})\bar{N}^{T}Q^{-1}\\
H=Q^{-1}(I-\bar{N}N^{*})
\end{aligned}
\tag{2}\]</span></span></p>
<p>Where:</p>
<div class="margin">
<p><span class="math inline">\(N^{*}\)</span> is the pseudo-inverse or generalized Moore-Penrose inverse of <span class="math inline">\(\bar{N}\)</span>.</p>
</div>
<div class="margin">
<p><span class="math inline">\(\bar{N}\)</span> is the matrix of the normal vectors of the constraints in the active set <span class="math inline">\(A\)</span>.</p>
</div>
<div class="margin">
<p><span class="math inline">\(H\)</span> is the reduced inverse Hessian operator of <span class="math inline">\(Q\)</span>.</p>
</div>
<p>These steps are repeated iteratively until all constraints are satisfied and the optimal asset allocation has been determined.</p>


<div id="refs" class="references csl-bib-body hanging-indent" role="list">
<div id="ref-Zhi08" class="csl-entry" role="listitem">
Aijun Zhang &amp; Chun-hung Li &amp; Agus Sudjianto, Zhi-li Wu &amp;. 2008. <span>“Trace Solution Paths for SVMs via Parametric Quadratic Programming.”</span> Researchgate. 2008. <a href="https://www.researchgate.net/publication/228577955_Trace_solution_paths_for_SVMs_via_parametric_quadratic_programming">https://www.researchgate.net/publication/228577955_Trace_solution_paths_for_SVMs_via_parametric_quadratic_programming</a>.
</div>
<div id="ref-beale1959" class="csl-entry" role="listitem">
Beale, EML. 1959. <span>“On Quadratic Proramming.”</span> <em>Naval Research Logistics Quarterly</em> 6 (3): 227–43.
</div>
<div id="ref-bunch1977" class="csl-entry" role="listitem">
Bunch, James R, and Linda Kaufman. 1977. <span>“Some Stable Methods for Calculating Inertia and Solving Symmetric Linear Systems.”</span> <em>Mathematics of Computation</em> 31 (137): 163–79.
</div>
<div id="ref-cai2004minimax" class="csl-entry" role="listitem">
Cai, Xiaoqiang, Kok Lay Teo, XQ Yang, and Xun Yu Zhou. 2004. <span>“Minimax Portfolio Optimization: Empirical Numerical Study.”</span> <em>Journal of the Operational Research Society</em> 55 (1): 65–72.
</div>
<div id="ref-drucker1996linear" class="csl-entry" role="listitem">
Drucker, Harris, Christopher Burges, Linda Kaufman, Alex Smola, and Vladimir Vapnik. 1996. <span>“Linear Support Vector Regression Machines.”</span> <em>Advances in Neural Information Processing Systems</em> 9 (9): 155–61.
</div>
<div id="ref-fletcher1971" class="csl-entry" role="listitem">
Fletcher, Roger. 1971. <span>“A General Quadratic Programming Algorithm.”</span> <em>IMA Journal of Applied Mathematics</em> 7 (1): 76–91.
</div>
<div id="ref-Goldfarb1982ANS" class="csl-entry" role="listitem">
Goldfarb, Donald, and Ashok U. Idnani. 1982. <span>“Dual and Primal-Dual Methods for Solving Strictly Convex Quadratic Programs.”</span> In <em>Numerical Analysis</em>, edited by J. P. Hennart, 226–39. Berlin, Heidelberg: Springer Berlin Heidelberg.
</div>
<div id="ref-Goldfarb1983ANS" class="csl-entry" role="listitem">
———. 1983. <span>“A Numerically Stable Dual Method for Solving Strictly Convex Quadratic Programs.”</span> <em>Mathematical Programming</em> 27: 1–33.
</div>
<div id="ref-GOSWAMI2012620" class="csl-entry" role="listitem">
Goswami, Nababithi, Supriyo K. Mondal, and Swapan Paruya. 2012. <span>“A Comparative Study of Dual Active-Set and Primal-Dual Interior-Point Method.”</span> <em>IFAC Proceedings Volumes</em> 45 (15): 620–25. https://doi.org/<a href="https://doi.org/10.3182/20120710-4-SG-2026.00029">https://doi.org/10.3182/20120710-4-SG-2026.00029</a>.
</div>
<div id="ref-Gunjan2023" class="csl-entry" role="listitem">
Gunjan, Siddhartha, Abhishek &amp; Bhattacharyya. 2023. <span>“<span class="nocase">A brief review of portfolio optimization techniques</span>.”</span> <em>Artificial Intelligence Review</em> 56 (5): 3847–86. <a href="https://doi.org/10.1007/s10462-022-10273-7">https://doi.org/10.1007/s10462-022-10273-7</a>.
</div>
<div id="ref-hestenes1969" class="csl-entry" role="listitem">
Hestenes, Magnus R. 1969. <span>“Multiplier and Gradient Methods.”</span> <em>Journal of Optimization Theory and Applications</em> 4 (5): 303–20.
</div>
<div id="ref-Hestenes1952" class="csl-entry" role="listitem">
Hestenes, Magnus R., and Eduard Stiefel. 1952. <span>“Methods of Conjugate Gradients for Solving Linear Systems.”</span> <em>Journal of Research of the National Bureau of Standards</em> 49: 409–35.
</div>
<div id="ref-jorion2007" class="csl-entry" role="listitem">
Jorion, Philippe. 2007. <em>Value at Risk: The New Benchmark for Managing Financial Risk</em>. The McGraw-Hill Companies, Inc.
</div>
<div id="ref-karmarkar1984" class="csl-entry" role="listitem">
Karmarkar, Narendra. 1984. <span>“A New Polynomial-Time Algorithm for Linear Programming.”</span> In <em>Proceedings of the Sixteenth Annual ACM Symposium on Theory of Computing</em>, 302–11.
</div>
<div id="ref-konno1991" class="csl-entry" role="listitem">
Konno, Hiroshi, and Hiroaki Yamazaki. 1991. <span>“Mean-Absolute Deviation Portfolio Optimization Model and Its Applications to Tokyo Stock Market.”</span> <em>Management Science</em> 37 (5): 519–31.
</div>
<div id="ref-markowitz1967" class="csl-entry" role="listitem">
Markowitz, Harry M, and Harry M Markowitz. 1967. <em>Portfolio Selection: Efficient Diversification of Investments</em>. J. Wiley.
</div>
<div id="ref-powell1969" class="csl-entry" role="listitem">
Powell, Michael JD. 1969. <span>“A Method for Nonlinear Constraints in Minimization Problems.”</span> <em>Optimization</em>, 283–98.
</div>
<div id="ref-rockafellar2002" class="csl-entry" role="listitem">
Rockafellar, R Tyrrell, and Stanislav Uryasev. 2002. <span>“Conditional Value-at-Risk for General Loss Distributions.”</span> <em>Journal of Banking &amp; Finance</em> 26 (7): 1443–71.
</div>
<div id="ref-rosen1961" class="csl-entry" role="listitem">
Rosen, JB. 1961. <span>“The Gradient Projection Method for Nonlinear Programming. Part II. Nonlinear Constraints.”</span> <em>Journal of the Society for Industrial and Applied Mathematics</em> 9 (4): 514–32.
</div>
<div id="ref-rosen1960" class="csl-entry" role="listitem">
Rosen, Jo Bo. 1960. <span>“The Gradient Projection Method for Nonlinear Programming. Part i. Linear Constraints.”</span> <em>Journal of the Society for Industrial and Applied Mathematics</em> 8 (1): 181–217.
</div>
<div id="ref-samuelson1970" class="csl-entry" role="listitem">
Samuelson, Paul A. 1970. <span>“The Fundamental Approximation Theorem of Portfolio Analysis in Terms of Means, Variances and Higher Moments.”</span> <em>The Review of Economic Studies</em> 37 (4): 537–42.
</div>
<div id="ref-shenoy2000bayesian" class="csl-entry" role="listitem">
Shenoy, Catherine, and Prakash P Shenoy. 2000. <span>“Bayesian Network Models of Portfolio Risk and Return.”</span> In. The MIT Press.
</div>
<div id="ref-sutton2018reinforcement" class="csl-entry" role="listitem">
Sutton, Richard S, and Andrew G Barto. 2018. <em>Reinforcement Learning: An Introduction</em>. MIT press.
</div>
<div id="ref-rwalk14" class="csl-entry" role="listitem">
Walker, Ryan. 2014. <span>“Solving Quadratic Progams with r’s Quadprog Package.”</span> rwalk. 2014. <a href="https://rwalk.xyz/solving-quadratic-progams-with-rs-quadprog-package/">https://rwalk.xyz/solving-quadratic-progams-with-rs-quadprog-package/</a>.
</div>
</div>
</section>

</main> <!-- /main -->
<script type="text/javascript">

  const elementWithauthor = document.querySelector('.quarto-title-meta-author');
  
  if(elementWithauthor){
    
    //Ad more description in title banner
    let TFMtitle = document.getElementById('title-block-header');
    let TFMtitlefc = TFMtitle.firstElementChild;
    let TFMtitlefcfc = TFMtitlefc.firstElementChild;
    const sublead = document.createElement('p');
      sublead.className = 'subtitle lead';
      sublead.id = 'sublead';
      sublead.textContent = "Master's Degree in Banking and Finance Academic year 2022/2023";
    const sub_sublead = document.createElement('p');
      sub_sublead.className = 'subtitle lead';
      sub_sublead.id='sub_sublead';
      sub_sublead.textContent = "Final Master's Project presented at the Faculty of Economics and Business of the University of A Coruña to obtain the Master's Degree in Banking and Finance";
    const udclogo = document.createElement('p');
      udclogo.innerHTML='<img src="../udclogo.png" style="width: 25%;">'
    TFMtitlefcfc.appendChild(sublead);
    TFMtitlefcfc.appendChild(sub_sublead);
    TFMtitlefcfc.appendChild(udclogo);
    
    //Fix authoring info
    const authorsElement = document.querySelector('.quarto-title-meta-heading');
    authorsElement.textContent = "AUTHOR";
    const authorsInfo = authorsElement.parentElement;
    const tutorname = authorsElement.cloneNode(true);
    tutorname.textContent = "TUTOR";
    tutorname.style.marginTop = '0';
    const tutorafili = tutorname.cloneNode(true);
    tutorafili.textContent = "";
    authorsInfo.insertBefore(tutorafili, authorsInfo.children[4]);
    authorsInfo.insertBefore(tutorname, authorsInfo.children[4]);
    
  }else{
    let TFMtitle = document.getElementById('title-block-header');
    let TFMtitlefc = TFMtitle.firstElementChild;
    let TFMtitlefcfc = TFMtitlefc.firstElementChild;
    const sub_sublead = document.createElement('p');
      sub_sublead.className = 'subtitle lead';
      sub_sublead.id='sub_sublead';
      sub_sublead.textContent = 'Application of artificial neural networks and quadratic programming in portfolio management';
    TFMtitlefcfc.appendChild(sub_sublead);
    
    
    
  }
</script>

<script>

// Read the HTML content from a file
async function readHTMLFile(filePath) {
  try {
    const response = await fetch(filePath);
    const htmlContent = await response.text();
    return htmlContent;
  } catch (error) {
    console.error('Error reading HTML file:', error);
    return null;
  }
}

// Main function to process the HTML file
async function processHtmlFile(filePath, patternToMatch, patternToReplace, replacement) {
  const htmlContent = await readHTMLFile(filePath);
  const idsToSearch = [];

  if (htmlContent) {
    const parser = new DOMParser();
    const doc = parser.parseFromString(htmlContent, 'text/html');

    const elementsWithMatchingIds = Array.from(doc.querySelectorAll('[id^="' + patternToMatch + '"]'));
    elementsWithMatchingIds.forEach(element => {
      const id = element.getAttribute('id');
      idsToSearch.push(id);
    });
  }

  const anchorElements = Array.from(document.querySelectorAll('a'));

  anchorElements.forEach(anchorElement => {
    const href = anchorElement.getAttribute('href');
    if (idsToSearch.some(id => href && href.endsWith(id))) {
      anchorElement.innerHTML = anchorElement.innerHTML.replace(patternToReplace, replacement);
    }
  });
}


const filePath = 'Annex2.html'; 
const patternToMatch = 'fig-'; 
const patternToReplace = 'Figure&nbsp;';
const replacement = 'Graph ';

processHtmlFile(filePath, patternToMatch, patternToReplace, replacement);
  
</script>
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="./ANNinTSF.html" class="pagination-link">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text">2.2 Artificial neural networks in the forecast of time series</span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="./Data.html" class="pagination-link">
        <span class="nav-page-text">2.4 Data</span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">Final Master’s Project presented at <a href="https://fee.udc.es/"><img src="../feelogo.png" class="img-fluid" alt="FEE" width="65"></a> <a href="https://www.udc.es/"><img src="../udclogo.png" class="img-fluid" alt="UDC" width="65"></a></div>   
    <div class="nav-footer-center">
      <ul class="footer-items list-unstyled">
    <li class="nav-item">
 David Díaz Rodríguez
  </li>  
</ul>
    </div>
    <div class="nav-footer-right"><a href="https://www.linkedin.com/in/david-d-6257951b8/"><img src="../sm/linkedin.png" width="20px" fig-alt="Linkeding profile"></a> <a href="https://github.com/davidrsch/TFM/"><img src="../sm/github.png" width="20px" fig-alt="Github repository"></a> <a href="https://www.researchgate.net/profile/David-Diaz-Rodriguez"><img src="../sm/Researchgate.png" width="20px" fig-alt="ResearchGate profile"></a> <a href="https://orcid.org/0000-0002-0927-9795"><img src="../sm/orcid.png" width="20px" fig-alt="ORCid profile"></a></div>
  </div>
</footer>



</body></html>